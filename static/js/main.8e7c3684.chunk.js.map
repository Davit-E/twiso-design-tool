{"version":3,"sources":["containers/Toolbar/ShapeDropdowns/StrokeWidthDropdown/StrokeWidthDropdown.module.css","containers/Toolbar/TextDropdowns/TextAlignDropdown/TextAlignDropdown.module.css","containers/DesignToolbar/DesignToolbar.module.css","containers/SideDrawer/SideDrawer.module.css","containers/Toolbar/ShapeToolbar/ShapeToolbar.module.css","containers/DesignToolbar/ResizeDropdown/ResizeDropdown.module.css","containers/Navigation/ShapeDropdown/ShapeDropdown.module.css","containers/Navigation/ImageDropdown/ImageDropdown.module.css","containers/Toolbar/TextDropdowns/FontSizeDropdown/FontSizeDropdown.module.css","assets/backArrow.svg","assets/addText.svg","assets/addImage.svg","assets/addShape.svg","contexts/AppContext.js","assets/square.svg","assets/roundedSquare.svg","assets/circle.svg","assets/triangle.svg","assets/line.svg","containers/Navigation/ShapeDropdown/ShapeDropdown.js","containers/Navigation/ImageDropdown/ImageDropdown.js","assets/photo.jpg","assets/photo2.jpg","components/Backdrop/Backdrop.js","containers/Navigation/Navigation.js","assets/ctrlScale.svg","assets/ctrlStretch.svg","assets/ctrlRotate.svg","containers/Canvas/fabricConfig.js","containers/Canvas/canvasHooks/useDeleteSelected.js","containers/Canvas/canvasHooks/utils/updateCanvas.js","containers/Canvas/canvasHooks/useInitCanvas.js","containers/Canvas/canvasHooks/utils/addObject.js","containers/Canvas/canvasHooks/useAddObject.js","containers/Canvas/canvasHooks/utils/onCanvasEvents.js","containers/Canvas/canvasHooks/useSelectionObserver.js","containers/Canvas/canvasHooks/utils/aligningGuidelines.js","containers/Canvas/canvasHooks/utils/centeringGuidelines.js","containers/Canvas/canvasHooks/useGuideLines.js","containers/Canvas/canvasHooks/utils/updateText.js","containers/Canvas/canvasHooks/utils/updateImage.js","containers/Canvas/canvasHooks/useUpdateObject.js","containers/Canvas/canvasHooks/utils/updateShape.js","assets/downArrow.svg","assets/bold.svg","assets/italic.svg","assets/textLeft.svg","assets/textRight.svg","assets/textCenter.svg","assets/textJustify.svg","assets/search.svg","containers/Toolbar/TextDropdowns/FontsDropdown/fontsData.js","containers/Toolbar/TextDropdowns/FontsDropdown/FontsDropdown.js","containers/Toolbar/TextDropdowns/FontSizeDropdown/FontSizeDropdown.js","containers/Toolbar/TextDropdowns/TextAlignDropdown/TextAlignDropdown.js","containers/Toolbar/TextDropdowns/TextDropdowns.js","containers/Toolbar/TextToolbar/utils/handlers.js","containers/Toolbar/TextToolbar/TextToolbar.js","containers/Toolbar/ShapeDropdowns/StrokeWidthDropdown/StrokeWidthDropdown.js","containers/Toolbar/ShapeDropdowns/ShapeDropdowns.js","containers/Toolbar/ShapeToolbar/utils/handlers.js","containers/Toolbar/ShapeToolbar/ShapeToolbar.js","assets/replaceImage.svg","assets/cornerRadius.svg","assets/cropImage.svg","containers/Toolbar/ImageToolbar/ImageToolbar.js","containers/Toolbar/Toolbar.js","containers/Toolbar/utils/toolbarPosition.js","containers/Canvas/canvasHooks/useCropImage.js","assets/backgroundImage.svg","containers/CanvasToolbar/CanvasToolbar.js","containers/Canvas/Canvas.js","assets/currentPage.svg","assets/addPage.svg","containers/DesignToolbar/ResizeDropdown/ResizeDropdown.js","containers/DesignToolbar/DesignToolbar.js","assets/close.svg","containers/SideDrawer/SideDrawer.js","containers/DesignTool/DesignTool.js","hooks/useAppState.js","App.js","reportWebVitals.js","index.js","containers/Toolbar/TextDropdowns/FontsDropdown/FontsDropdown.module.css","containers/CanvasToolbar/CanvasToolbar.module.css","containers/Toolbar/ImageToolbar/ImageToolbar.module.css","containers/Canvas/Canvas.module.css","containers/Toolbar/TextDropdowns/TextDropdowns.module.css","containers/Toolbar/ShapeDropdowns/ShapeDropdowns.module.css","containers/DesignTool/DesignTool.module.css","containers/Navigation/Navigation.module.css","containers/Toolbar/TextToolbar/TextToolbar.module.css","App.module.css","components/Backdrop/Backdrop.module.css","containers/Toolbar/Toolbar.module.css"],"names":["module","exports","AppContext","createContext","ShapeDropdown","appDispatch","useContext","className","styles","Dropdown","onClick","e","target","tagName","type","data","id","classList","contains","ShapeContainer","childNodes","Shape","src","square","alt","roundedSquare","circle","triangle","line","ImageDropdown","setUserFiles","userFiles","appState","fileInput","useRef","oddArr","filter","_","i","evenArr","shouldAddCanvasBgImage","ImageContainer","UplaodButtonContainer","current","click","UploadButton","accept","FileInput","ref","onChange","files","file","console","log","prevSate","URL","createObjectURL","Images","Column","map","el","join","Image","Backdrop","props","actionType","isImageDropdown","isShapeDropdown","shouldReplaceImage","children","Navigation","canvas","useState","canvasToDownload","setCanvasToDownload","photo","photo2","donwloadRef","useEffect","getElement","toBlob","blob","href","download","BackFileInfoContainer","BackArrow","backArrow","FileInfoContainer","FileName","Creater","DesignControlsContainer","AddTextContainer","addText","HoverContent","HoverTriangle","HoverText","DesignControl","AddImageContainer","addImage","AddShapeContainer","addShape","DownloadUserInfoContainer","DownloadButton","newCanvas","fabric","Canvas","jsonCanvas","JSON","stringify","loadFromJSON","setDimensions","width","getWidth","height","getHeight","setZoom","DownloadLink","User","UserInitials","fabricConfig","Object","prototype","transparentCorners","cornerColor","borderColor","cornerStrokeColor","cornerStyle","ctrlStretchImage","ctrlStretch","ctrlScaleImage","ctrlScale","ctrlRotateImage","ctrlRotate","controlsUtils","scaleSkewStyleHandler","scaleSkewCursorStyleHandler","scaleStyleHandler","scaleCursorStyleHandler","scalingEqually","scalingYOrSkewingX","scalingXOrSkewingY","scaleOrSkewActionName","objectControls","controls","renderScaleIcon","icon","ctx","left","top","styleOverride","fabricObject","size","this","cornerSize","save","translate","rotate","util","degreesToRadians","angle","drawImage","restore","renderStretchIconX","renderStretchIconY","ml","Control","x","y","cursorStyleHandler","actionHandler","getActionName","offsetY","render","mr","offsetX","mt","mb","tl","tr","bl","br","mtr","rotationWithSnapping","rotationStyleHandler","withConnection","actionName","Textbox","textBoxControls","changeWidth","Line","image","keyDownHandler","keyCode","getActiveObjects","forEach","obj","remove","discardActiveObject","requestRenderAll","useDeleteSelected","document","addEventListener","removeEventListener","scaleAndPositionImage","state","scaleFactor","setBackgroundImage","bind","originX","originY","scaleX","scaleY","useInitCanvas","setCanvas","setIsCanvasSet","isFirstLoad","setIsFirstLoad","backgroundColor","backgroundImage","fromURL","img","initCanvas","canvasState","ShowControls","addNewRect","rect","Rect","noScaleCache","strokeUniform","fill","stroke","strokeWidth","setControlsVisibility","addNewShape","dispatch","updateId","shapeToAdd","rx","ry","addNewRoundedRect","Circle","radius","addNewCircle","Triangle","addNewTriangle","padding","add","setActiveObject","useAddObject","setId","updatetId","imageToAdd","active","getActiveObject","scaleToWidth","cornerRadius","addNewImage","shouldAddText","text","splitByGrapheme","textState","addNewText","textPropertyArr","shapePropertyArr","imagePropertyArr","handleSelected","object","lineCoords","newTextState","property","handleText","newImageState","handleImage","newShapeState","handleShape","removeListeners","c","off","useSelectionObserver","isCanvasSet","isRotating","setIsRotating","isScaling","setIsScaling","isSkewing","setIsSkewing","isMoving","setIsMoving","isEditingText","setIsEditingText","currentId","addListeners","useCallback","showCanvasToolbar","on","hiddenTextarea","value","onTextEnter","onTextExit","canvasJSON","sessionStorage","setItem","onCreated","deselected","length","onUpdated","onModified","onCleared","isCroppingImage","currentObject","drawLine","x1","y1","x2","y2","aligningLineWidth","aligningLineColor","viewportTransform","zoom","lineWidth","strokeStyle","beginPath","moveTo","lineTo","isInRange","value1","value2","aligningLineMargin","Math","round","len","drawVerticalLine","coords","drawHorizontalLine","showCenterLine","centerLineColor","centerLineWidth","useGuideLines","setCtx","setViewportTransform","verticalLines","setVerticalLines","horizontalLines","setHorizontalLines","canvasWidth","setCanvasWidth","canvasHeight","setCanvasHeight","canvasWidthCenterMap","setCanvasWidthCenterMap","canvasHeightCenterMap","setCanvasHeightCenterMap","isInVerticalCenter","setIsInVerticalCenter","isInHorizontalCenter","setIsInHorizontalCenter","handleMouseDown","getZoom","handleBeforeRender","clearContext","contextTop","handleMoving","aligningLineOffset","activeObject","canvasObjects","getObjects","activeObjectCenter","getCenterPoint","activeObjectLeft","activeObjectTop","activeObjectBoundingRect","getBoundingRect","activeObjectHeight","activeObjectWidth","horizontalInTheRange","verticalInTheRange","_currentTransform","objectCenter","objectLeft","objectTop","objectBoundingRect","objectHeight","objectWidth","prevState","setPositionByOrigin","Point","objectMovingObserver","isInVertical","isInHorizontal","objectMovingCenterObserver","handleAfterRender","canvasWidthCenter","showVerticalCenterLine","canvasHeightCenter","showHorizontalCenterLine","handleMouseUp","initGuideLines","getSelectionContext","widthMap","heightMap","removelistneres","updateTextStyle","_clearCache","entries","key","set","font","WebFont","load","google","families","timeout","fontactive","familyName","fvd","fontFamily","loadAndUse","showToolbar","updateImageStyle","imageState","currentRadiusX","currentRadiusY","roundedCorners","shapeArr","useUpdateObject","shouldUpdateCanvas","updateCanvasStyle","shouldUpdateCanvasSize","shouldUpdateText","shouldUpdateShape","includes","shapeState","updateShapeStyle","shouldUpdateImage","fonts","FontsDropdown","setIsDropDown","input","setInput","options","toLowerCase","FontOption","SearchContainer","SearchSvg","search","SearchInput","placeholder","FontOptionsContainer","textContent","UploadFontContainer","UploadFontButton","FontSizeDropdown","FontSizeOption","TextAlignDropdown","TextAlignOption","Current","TextAlignImage","textLeft","TextAlignText","textCenter","textRight","textJustify","TextDropdowns","isFontFamilyDropdown","isFontSizeDropdown","isColorDropdown","isTextAlignDropDown","setIsFontFamilyDropdown","setIsFontSizeDropdown","colorChangeCompleteHandler","setIsTextAlignDropDown","setColor","color","colorPickerRef","dropDownStyle","setDropdownStyle","coordY","bottom","style","SketchPickerContainer","rgb","onChangeComplete","textAlign","colorString","r","g","b","a","background","TextToolbar","fontSize","fontSizeInput","setFontSizeInput","setIsColorDropdown","boldStlyes","FontWeightBoldContainer","italicStyles","FontStyleItalicContainer","isBold","fontWeight","isItalic","fontStyle","push","Active","textAlignSrc","dropdownHandlers","fontSizeArrow","colorPicker","styleHandlers","bold","weight","italic","clickHandler","currentTarget","handler","handleClick","split","FontsContainer","DownArrow","downArrow","BorderDiv","FontSizeContainer","FontSizeInputContainer","FontSizeInput","fontSizeChangeHandler","FontSizeArrowContainer","ColorPickerContainer","ColorPickerBorder","ColorPicker","Bold","Italic","TextAlignContainer","TextAlign","StrokeWidthDropdown","optionsClickHandler","isLine","LineDropdown","StrokeOption","ShapeDropdowns","shapeToolbar","isStrokeWidthDropdown","isFillDropdown","isStrokeDropdown","setFill","fillChangeCompleteHandler","fillRef","setStroke","strokeChangeCompleteHandler","strokeRef","setIsStrokeWidthDropdown","strokeWidthDropDownStyle","setStrokeWidthDropDownStyle","handleDropdownPosition","toolbarWidth","offsetWidth","coordX","keys","FillDropdownContainer","StrokeDropdownContainer","StrokeWidthDropdownContainer","ShapeToolbar","setIsFillDropdown","setIsStrokeDropdown","strokeWidthInput","setStrokeWidthInput","shapeToolbarRef","strokeContainerRef","clicked","borderTopLeftRadius","borderBottomLeftRadius","initialLoadHandler","FillContainer","StrokeContainer","StrokeWidthContainer","StrokeWidthInputContainer","StrokeWidthInput","strokeWidthChangeHandler","StrokeWidthArrowContainer","ImageToolbar","radiusInput","setRadiusInput","ReaplaceContainer","replaceImage","RadiusContainer","RadiusInput","val","CropContainer","cropImage","Toolbar","setCoords","toolbarRef","setTransform","transform","opacity","currentCoords","toolbar","toolbarOffset","toolbarPadding","toolbarHeight","offsetHeight","isBottomCloser","offset","min","tempCoordY","max","calcPosition","useCropImage","cropStartHandler","selectable","activeEl","lockScalingFlip","visible","PI","boundHeight","boundWidth","abs","cos","sin","right","topBound","leftBound","rightBound","bottomBound","CanvasToolbar","canvasToolbarRef","backgroundColorRef","ColorContainer","BackgroundImage","ColorDropdownContainer","borderRef","useGuidelines","borderStyles","CanvasBorder","Opacity1","borderContainerSize","borderSize","canvasSize","CanvasComponent","BorderContainer","CanvasContainer","ResizeDropdown","SizeOptions","SizeOption","CustomSizeOption","CustomSizeText","InputsContainer","InputWidth","InputHeight","PxText","DesignToolbar","setIsSideDrawer","isResizeDropdown","setIsResizeRopdown","ZoomContainer","ZoomInputContainer","ZoomInput","ZoomInputPercent","ZoomInputArrowContainer","ResizeContainer","Resize","CurrentPageContainer","CurrentPageImage","currentPage","CurrentPage","AddPageContainer","AddPage","addPage","SideDrawer","isSideDrawer","canvasArr","setCanvasArr","sideDrawerStyles","sideDrawerRef","createCanvas","arr","DesignPage","Open","Header","HeaderText","CloseContainer","Close","close","PagesContainer","PageContainer","DesignPageContainer","IndexContainer","PageIndex","DesignTool","Main","initialState","reducer","action","useAppState","useReducer","App","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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0B,sCCA1B,OAA0B,iCCA1B,OAA0B,mCCA1B,OAA0B,qCCA1B,OAA0B,sCCA1B,OAA0B,uCCA1B,OAA0B,wC,oBCA1B,OAA0B,mCC2hC1B2W,GA3hCA,CACb,UACA,OACA,eACA,gBACA,WACA,OACA,QACA,UACA,aACA,kBACA,iBACA,mBACA,UACA,SACA,QACA,SACA,UACA,OACA,WACA,cACA,gBACA,mBACA,OACA,aACA,gBACA,QACA,QACA,gBACA,QACA,UACA,kBACA,SACA,UACA,WACA,mBACA,cACA,WACA,WACA,YACA,YACA,QACA,QACA,QACA,UACA,SACA,SACA,mBACA,SACA,2BACA,gBACA,QACA,eACA,aACA,QACA,SACA,UACA,eACA,sBACA,UACA,gBACA,iBACA,aACA,gBACA,QACA,WACA,SACA,UACA,WACA,OACA,OACA,OACA,iBACA,OACA,QACA,YACA,UACA,OACA,SACA,OACA,aACA,SACA,YACA,aACA,UACA,eACA,sBACA,eACA,oBACA,qBACA,OACA,YACA,aACA,UACA,YACA,eACA,SACA,UACA,eACA,iBACA,kBACA,aACA,gBACA,gBACA,kBACA,iBACA,gBACA,YACA,UACA,SACA,mBACA,wBACA,aACA,SACA,QACA,eACA,aACA,UACA,QACA,aACA,aACA,WACA,YACA,UACA,UACA,eACA,YACA,QACA,UACA,kBACA,aACA,QACA,wBACA,+BACA,4BACA,gCACA,6BACA,qBACA,gBACA,cACA,QACA,mBACA,WACA,oBACA,UACA,SACA,0BACA,iBACA,gBACA,UACA,cACA,QACA,SACA,WACA,aACA,gBACA,UACA,aACA,eACA,iBACA,cACA,OACA,UACA,SACA,kBACA,gBACA,iBACA,eACA,aACA,iBACA,QACA,kBACA,eACA,kBACA,aACA,QACA,UACA,YACA,iBACA,SACA,QACA,SACA,YACA,cACA,cACA,WACA,QACA,QACA,iBACA,oBACA,aACA,UACA,YACA,SACA,SACA,eACA,qBACA,cACA,eACA,SACA,aACA,SACA,QACA,aACA,WACA,qBACA,YACA,iBACA,SACA,oBACA,eACA,QACA,SACA,WACA,QACA,WACA,SACA,oBACA,iBACA,OACA,eACA,WACA,QACA,QACA,YACA,aACA,cACA,eACA,cACA,YACA,UACA,eACA,cACA,SACA,QACA,SACA,YACA,qBACA,mBACA,eACA,oBACA,oBACA,YACA,gBACA,UACA,WACA,wBACA,eACA,YACA,cACA,cACA,eACA,gBACA,UACA,SACA,YACA,SACA,cACA,UACA,UACA,mBACA,gBACA,SACA,iBACA,UACA,mBACA,cACA,uBACA,WACA,QACA,kBACA,SACA,oBACA,iBACA,gBACA,WACA,aACA,WACA,gBACA,YACA,eACA,WACA,QACA,SACA,cACA,aACA,QACA,QACA,cACA,cACA,YACA,YACA,cACA,aACA,iBACA,QACA,YACA,QACA,aACA,cACA,QACA,mBACA,cACA,eACA,cACA,wBACA,uBACA,6BACA,4BACA,aACA,YACA,YACA,WACA,YACA,UACA,kBACA,QACA,MACA,QACA,gBACA,WACA,eACA,QACA,SACA,YACA,mBACA,aACA,WACA,YACA,WACA,WACA,SACA,SACA,QACA,eACA,YACA,YACA,YACA,sBACA,4BACA,aACA,YACA,WACA,UACA,aACA,mBACA,QACA,eACA,mBACA,WACA,eACA,uBACA,cACA,WACA,SACA,UACA,UACA,YACA,YACA,kBACA,WACA,QACA,SACA,SACA,WACA,UACA,eACA,WACA,UACA,gBACA,qBACA,MACA,UACA,eACA,eACA,SACA,gBACA,WACA,iBACA,gBACA,SACA,oBACA,aACA,aACA,UACA,WACA,YACA,OACA,wBACA,WACA,cACA,eACA,eACA,cACA,SACA,iBACA,SACA,SACA,QACA,OACA,SACA,WACA,SACA,iBACA,SACA,kBACA,UACA,eACA,UACA,UACA,eACA,YACA,eACA,QACA,cACA,aACA,uBACA,YACA,OACA,cACA,eACA,gBACA,gBACA,kBACA,iBACA,WACA,gBACA,gBACA,0BACA,iBACA,kBACA,qBACA,sBACA,yBACA,kBACA,qBACA,uBACA,0BACA,uBACA,0BACA,mBACA,UACA,UACA,QACA,UACA,cACA,QACA,eACA,QACA,iBACA,aACA,cACA,QACA,eACA,YACA,WACA,YACA,OACA,mBACA,0BACA,QACA,iBACA,iBACA,aACA,eACA,WACA,YACA,eACA,eACA,OACA,WACA,MACA,SACA,QACA,kBACA,QACA,OACA,oBACA,0BACA,MACA,QACA,QACA,UACA,QACA,YACA,QACA,QACA,UACA,iBACA,YACA,SACA,aACA,aACA,aACA,QACA,QACA,QACA,QACA,iBACA,WACA,YACA,UACA,OACA,YACA,SACA,cACA,YACA,SACA,SACA,QACA,SACA,YACA,OACA,QACA,aACA,YACA,oBACA,aACA,SACA,kBACA,UACA,QACA,cACA,UACA,WACA,SACA,SACA,OACA,gBACA,eACA,SACA,SACA,QACA,WACA,SACA,cACA,aACA,cACA,cACA,cACA,cACA,eACA,oBACA,yBACA,mBACA,4BACA,iCACA,wBACA,2BACA,oBACA,uBACA,oBACA,iBACA,cACA,aACA,kBACA,YACA,cACA,WACA,mBACA,SACA,UACA,cACA,mBACA,kBACA,kBACA,iBACA,YACA,OACA,wBACA,oBACA,iBACA,eACA,WACA,UACA,YACA,oBACA,gBACA,UACA,qBACA,OACA,QACA,gBACA,UACA,qBACA,OACA,OACA,WACA,UACA,UACA,UACA,WACA,UACA,YACA,eACA,eACA,YACA,eACA,YACA,WACA,SACA,cACA,SACA,OACA,UACA,YACA,UACA,SACA,gBACA,aACA,eACA,SACA,cACA,WACA,eACA,eACA,oBACA,QACA,cACA,eACA,cACA,WACA,UACA,YACA,mBACA,OACA,UACA,eACA,QACA,iBACA,OACA,QACA,iBACA,QACA,UACA,QACA,QACA,WACA,UACA,uBACA,UACA,SACA,aACA,wBACA,uBACA,OACA,WACA,yBACA,gBACA,aACA,WACA,iBACA,sBACA,gBACA,QACA,cACA,cACA,cACA,SACA,eACA,gBACA,MACA,qBACA,eACA,sBACA,iBACA,mBACA,YACA,SACA,SACA,aACA,cACA,aACA,aACA,UACA,UACA,YACA,SACA,SACA,UACA,UACA,UACA,uBACA,eACA,YACA,eACA,eACA,eACA,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,WACA,YACA,YACA,YACA,aACA,cACA,YACA,cACA,SACA,SACA,cACA,cACA,iBACA,UACA,KACA,kBACA,YACA,cACA,yBACA,YACA,sBACA,cACA,WACA,UACA,UACA,kBACA,SACA,mBACA,WACA,cACA,WACA,gBACA,MACA,UACA,SACA,cACA,UACA,UACA,kBACA,iBACA,WACA,mBACA,WACA,SACA,YACA,iBACA,WACA,UACA,aACA,cACA,cACA,qBACA,eACA,kBACA,UACA,YACA,UACA,cACA,UACA,UACA,mBACA,sBACA,UACA,cACA,YACA,SACA,gBACA,aACA,UACA,OACA,WACA,mBACA,sBACA,UACA,aACA,aACA,OACA,WACA,eACA,aACA,UACA,mBACA,mBACA,YACA,iBACA,QACA,cACA,iBACA,QACA,iBACA,WACA,SACA,aACA,cACA,cACA,UACA,eACA,SACA,WACA,eACA,oBACA,YACA,YACA,iBACA,UACA,kBACA,SACA,WACA,SACA,UACA,eACA,aACA,WACA,SACA,eACA,WACA,SACA,QACA,OACA,YACA,eACA,YACA,kBACA,eACA,WACA,YACA,YACA,gBACA,aACA,UACA,gBACA,SACA,gBACA,YACA,SACA,SACA,mBACA,cACA,cACA,YACA,YACA,gBACA,UACA,YACA,YACA,UACA,WACA,eACA,UACA,YACA,QACA,iBACA,OACA,SACA,cACA,SACA,aACA,iBACA,YACA,SACA,MACA,aACA,UACA,OACA,QACA,kBACA,wBACA,uBACA,oBACA,QACA,UACA,WACA,UACA,kBACA,UACA,SACA,SACA,WACA,UACA,kBACA,kBACA,QACA,eACA,aACA,YACA,iBACA,cACA,eACA,uBACA,MACA,YACA,cACA,qBACA,yBACA,SACA,QACA,aACA,kBACA,kBACA,qBACA,YACA,cACA,YACA,WACA,aACA,UACA,mBACA,YACA,aACA,UACA,gBACA,WACA,UACA,aACA,aACA,UACA,SACA,SACA,UACA,UACA,gBACA,aACA,QACA,SACA,aACA,aACA,OACA,mBACA,kBACA,kBACA,mBACA,gBACA,aACA,UACA,gBACA,WACA,cACA,aACA,YACA,SACA,aACA,uBACA,WACA,WACA,cACA,YACA,gBACA,kBACA,QACA,wBACA,uBACA,QACA,SACA,UACA,sBACA,WACA,gBACA,SACA,YACA,YACA,mBACA,OACA,UACA,YACA,cACA,qBACA,YACA,OACA,YACA,eACA,UACA,YACA,SACA,QACA,UACA,OACA,QACA,qBACA,aACA,cACA,YACA,YACA,qBACA,SACA,UACA,UACA,QACA,YACA,gBACA,WACA,cACA,YACA,UACA,WACA,UACA,UACA,aACA,UACA,aACA,cACA,SACA,mBACA,cACA,QACA,iBACA,WACA,YACA,iBACA,qBACA,UACA,SACA,OACA,QACA,cACA,SACA,eACA,QACA,cACA,eACA,eACA,QACA,QACA,WACA,OACA,QACA,UACA,WACA,cACA,WACA,0BACA,WACA,kBACA,SACA,YACA,YACA,WACA,YACA,YACA,oBACA,cACA,YACA,aACA,YACA,aACA,aACA,OACA,cACA,eACA,wBACA,gBACA,SACA,gBACA,aACA,wBCv+BaC,GA5CO,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,cAAe1M,EAAe,EAAfA,SACtC,EAA0BlK,mBAAS,IAAnC,mBAAO6W,EAAP,KAAcC,EAAd,KASMC,EAAUL,GACb9Y,QAAO,SAACkX,GACP,OAAOA,EAAKkC,cAAcV,SAASO,EAAMG,kBAE1C7X,KAAI,SAAC2V,GACJ,OACE,oBAAI/Y,UAAWC,KAAOib,WAAtB,SACGnC,GADoCA,MAM7C,OACE,sBAAK/Y,UAAWC,KAAO2a,cAAvB,UACE,sBAAK5a,UAAWC,KAAOkb,gBAAvB,UACE,qBAAKnb,UAAWC,KAAOmb,UAAWra,IAAKsa,GAAQpa,IAAI,WACnD,u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","file":"static/js/main.8e7c3684.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"LineDropdown\":\"StrokeWidthDropdown_LineDropdown__1F3p-\",\"ShapeDropdown\":\"StrokeWidthDropdown_ShapeDropdown__g6-7V\",\"StrokeOption\":\"StrokeWidthDropdown_StrokeOption__3ownW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextAlignDropdown\":\"TextAlignDropdown_TextAlignDropdown__zZxbp\",\"TextAlignOption\":\"TextAlignDropdown_TextAlignOption__mheBP\",\"Current\":\"TextAlignDropdown_Current__R4DKn\",\"TextAlignImage\":\"TextAlignDropdown_TextAlignImage__zUtNW\",\"TextAlignText\":\"TextAlignDropdown_TextAlignText__1cmtV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DesignToolbar\":\"DesignToolbar_DesignToolbar__F4iiJ\",\"BorderDiv\":\"DesignToolbar_BorderDiv__1MNuM\",\"DownArrow\":\"DesignToolbar_DownArrow__2i0Ki\",\"ZoomContainer\":\"DesignToolbar_ZoomContainer__10GnW\",\"ZoomInputArrowContainer\":\"DesignToolbar_ZoomInputArrowContainer__doLFQ\",\"ResizeContainer\":\"DesignToolbar_ResizeContainer__1o61l\",\"CurrentPageContainer\":\"DesignToolbar_CurrentPageContainer__2-azT\",\"AddPageContainer\":\"DesignToolbar_AddPageContainer__3SjG6\",\"ZoomInputContainer\":\"DesignToolbar_ZoomInputContainer__1FfFo\",\"ZoomInput\":\"DesignToolbar_ZoomInput__2LQAT\",\"ZoomInputPercent\":\"DesignToolbar_ZoomInputPercent__1Nvkp\",\"Resize\":\"DesignToolbar_Resize__2C4B1\",\"CurrentPage\":\"DesignToolbar_CurrentPage__3gYrB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"SideDrawer_SideDrawer__1BeTl\",\"Header\":\"SideDrawer_Header__2tOdU\",\"HeaderText\":\"SideDrawer_HeaderText__1KFmS\",\"CloseContainer\":\"SideDrawer_CloseContainer__33Fgj\",\"PagesContainer\":\"SideDrawer_PagesContainer__vU7kT\",\"PageContainer\":\"SideDrawer_PageContainer__1JLv4\",\"DesignPageContainer\":\"SideDrawer_DesignPageContainer__2UHl7\",\"DesignPage\":\"SideDrawer_DesignPage__FgMkG\",\"IndexContainer\":\"SideDrawer_IndexContainer__85ckb\",\"PageIndex\":\"SideDrawer_PageIndex__S4Mms\",\"Open\":\"SideDrawer_Open__1X_Ie\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ShapeToolbar\":\"ShapeToolbar_ShapeToolbar__BUPQ5\",\"BorderDiv\":\"ShapeToolbar_BorderDiv__Yh9og\",\"DownArrow\":\"ShapeToolbar_DownArrow__VLxsY\",\"FillContainer\":\"ShapeToolbar_FillContainer__3Xpx9\",\"StrokeContainer\":\"ShapeToolbar_StrokeContainer__2wqmx\",\"StrokeWidthContainer\":\"ShapeToolbar_StrokeWidthContainer__3Lgy3\",\"ColorPickerBorder\":\"ShapeToolbar_ColorPickerBorder__2Njn7\",\"ColorPicker\":\"ShapeToolbar_ColorPicker__10odC\",\"StrokeWidthInputContainer\":\"ShapeToolbar_StrokeWidthInputContainer__3mw1W\",\"StrokeWidthInput\":\"ShapeToolbar_StrokeWidthInput__2ccVk\",\"StrokeWidthArrowContainer\":\"ShapeToolbar_StrokeWidthArrowContainer__353_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ResizeDropdown_Dropdown__2MCnd\",\"SizeOptions\":\"ResizeDropdown_SizeOptions__1nCyu\",\"SizeOption\":\"ResizeDropdown_SizeOption__3WHeA\",\"CustomSizeOption\":\"ResizeDropdown_CustomSizeOption__2YZq8\",\"CustomSizeText\":\"ResizeDropdown_CustomSizeText__1LMjD\",\"InputsContainer\":\"ResizeDropdown_InputsContainer__150tO\",\"InputWidth\":\"ResizeDropdown_InputWidth__1Fn5X\",\"InputHeight\":\"ResizeDropdown_InputHeight__3WmYC\",\"PxText\":\"ResizeDropdown_PxText__2mpEi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ShapeDropdown_Dropdown__1Wu2K\",\"ShapeContainer\":\"ShapeDropdown_ShapeContainer__3VgGc\",\"LineShapeContainer\":\"ShapeDropdown_LineShapeContainer__2zGv9\",\"Shape\":\"ShapeDropdown_Shape__gbdK_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"ImageDropdown_Dropdown__2EQf8\",\"UplaodButtonContainer\":\"ImageDropdown_UplaodButtonContainer__2qY4A\",\"UploadButton\":\"ImageDropdown_UploadButton__GnKEE\",\"FileInput\":\"ImageDropdown_FileInput__1QWbM\",\"Images\":\"ImageDropdown_Images__NrC9F\",\"Column\":\"ImageDropdown_Column__1AEok\",\"ImageContainer\":\"ImageDropdown_ImageContainer__1hRSW\",\"Image\":\"ImageDropdown_Image__2-BlT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontSizeDropdown\":\"FontSizeDropdown_FontSizeDropdown__1tuEr\",\"FontSizeOption\":\"FontSizeDropdown_FontSizeOption__4AGCL\"};","export default __webpack_public_path__ + \"static/media/backArrow.0fa2b863.svg\";","export default __webpack_public_path__ + \"static/media/addText.3a1cc6fe.svg\";","export default __webpack_public_path__ + \"static/media/addImage.5167341a.svg\";","export default __webpack_public_path__ + \"static/media/addShape.efc88c00.svg\";","import {createContext} from 'react';\r\n\r\nconst AppContext = createContext(null);\r\nexport default AppContext;","export default __webpack_public_path__ + \"static/media/square.5e888dd3.svg\";","export default __webpack_public_path__ + \"static/media/roundedSquare.2ee5319e.svg\";","export default __webpack_public_path__ + \"static/media/circle.0bedfa10.svg\";","export default __webpack_public_path__ + \"static/media/triangle.76f36a5f.svg\";","export default __webpack_public_path__ + \"static/media/line.60fd0829.svg\";","import React, { useContext } from 'react';\r\nimport styles from './ShapeDropdown.module.css';\r\nimport square from '../../../assets/square.svg';\r\nimport roundedSquare from '../../../assets/roundedSquare.svg';\r\nimport circle from '../../../assets/circle.svg';\r\nimport triangle from '../../../assets/triangle.svg';\r\nimport line from '../../../assets/line.svg';\r\nimport AppContext from '../../../contexts/AppContext';\r\n\r\nconst ShapeDropdown = () => {\r\n  const { appDispatch } = useContext(AppContext);\r\n  const clickHandler = (e) => {\r\n    if (e.target.tagName === 'IMG') {\r\n      appDispatch({ type: 'setShapeToAdd', data: e.target.id });\r\n    } else if (e.target.classList.contains(styles.ShapeContainer)) {\r\n      appDispatch({ type: 'setShapeToAdd', data: e.target.childNodes[0].id });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Dropdown} onClick={clickHandler}>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={square} alt='square' id='square' />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img\r\n          className={styles.Shape}\r\n          src={roundedSquare}\r\n          alt='rounded square'\r\n          id='roundedSquare'\r\n        />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={circle} alt='circle' id='circle' />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img\r\n          className={styles.Shape}\r\n          src={triangle}\r\n          alt='triangle'\r\n          id='triangle'\r\n        />\r\n      </div>\r\n      <div className={styles.ShapeContainer}>\r\n        <img className={styles.Shape} src={line} alt='line' id='line' />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShapeDropdown;\r\n","import React, { useContext, useRef } from 'react';\r\nimport styles from './ImageDropdown.module.css';\r\nimport AppContext from '../../../contexts/AppContext';\r\n\r\nconst ImageDropdown = ({ setUserFiles, userFiles }) => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n  const fileInput = useRef(null);\r\n  const clickHandler = (e) => {\r\n    let type = 'setImageToAdd';\r\n    if (appState.shouldAddCanvasBgImage) {\r\n      type = 'setCanvasBackgroundImage'\r\n    }\r\n    if (e.target.tagName === 'IMG') {\r\n      appDispatch({ type, data: e.target.src });\r\n    } else if (e.target.classList.contains(styles.ImageContainer)) {\r\n      appDispatch({ type, data: e.target.childNodes[0].src });\r\n    }\r\n  };\r\n\r\n  const inputChangeHandler = () => {\r\n    if (fileInput.current.files[0]) {\r\n      let file = fileInput.current.files[0];\r\n      let type = 'image';\r\n      if (file.type === 'image/svg+xml') type = 'svg';\r\n      console.log(file);\r\n      setUserFiles((prevSate) => [\r\n        { src: URL.createObjectURL(file), type },\r\n        ...prevSate,\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const uploadClickHandler = () => {\r\n    fileInput.current.click();\r\n  };\r\n\r\n  const oddArr = userFiles.filter((_, i) => (i + 1) % 2 !== 0);\r\n  const evenArr = userFiles.filter((_, i) => (i + 1) % 2 === 0);\r\n\r\n  return (\r\n    <div className={styles.Dropdown} onClick={clickHandler}>\r\n      <div className={styles.UplaodButtonContainer}>\r\n        <button onClick={uploadClickHandler} className={styles.UploadButton}>\r\n          Upload image\r\n        </button>\r\n        <input\r\n          accept='image/png, image/gif, image/jpeg, image/svg+xml'\r\n          className={styles.FileInput}\r\n          ref={fileInput}\r\n          type='file'\r\n          onChange={inputChangeHandler}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.Images}>\r\n        <div className={styles.Column}>\r\n          {oddArr.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={'odd' + i}\r\n                className={[\r\n                  styles.ImageContainer,\r\n                  el.type === 'svg' ? 'isSvg' : null,\r\n                ].join(' ')}\r\n              >\r\n                <img\r\n                  className={[\r\n                    styles.Image,\r\n                    el.type === 'svg' ? 'isSvg' : null,\r\n                  ].join(' ')}\r\n                  src={el.src}\r\n                  alt='asset'\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className={styles.Column}>\r\n          {evenArr.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={'even' + i}\r\n                className={[\r\n                  styles.ImageContainer,\r\n                  el.type === 'svg' ? 'isSvg' : null,\r\n                ].join(' ')}\r\n              >\r\n                <img\r\n                  className={[\r\n                    styles.Image,\r\n                    el.type === 'svg' ? 'isSvg' : null,\r\n                  ].join(' ')}\r\n                  src={el.src}\r\n                  alt='asset'\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageDropdown;\r\n","export default __webpack_public_path__ + \"static/media/photo.3b16c800.jpg\";","export default __webpack_public_path__ + \"static/media/photo2.92a250e9.jpg\";","import React, { useContext } from 'react';\r\nimport styles from './Backdrop.module.css';\r\nimport AppContext from '../../contexts/AppContext';\r\n\r\nconst Backdrop = (props) => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n\r\n  const clickHandler = () => {\r\n    let actionType = '';\r\n    if (appState.isImageDropdown) actionType = 'setIsImageDropdown';\r\n    else if (appState.isShapeDropdown) actionType = 'setIsShapeDropdown';\r\n    else if (appState.shouldReplaceImage) actionType = 'setShouldReplaceImage';\r\n    else if (appState.shouldAddCanvasBgImage)\r\n      actionType = 'setShouldAddCanvasBgImage';\r\n    appDispatch({ type: actionType, data: false });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Backdrop} onClick={clickHandler}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useContext, useState, useRef, useEffect } from 'react';\r\nimport styles from './Navigation.module.css';\r\nimport backArrow from '../../assets/backArrow.svg';\r\nimport addText from '../../assets/addText.svg';\r\nimport addImage from '../../assets/addImage.svg';\r\nimport addShape from '../../assets/addShape.svg';\r\nimport AppContext from '../../contexts/AppContext';\r\nimport ShapeDropdown from './ShapeDropdown/ShapeDropdown';\r\nimport ImageDropdown from './ImageDropdown/ImageDropdown';\r\nimport photo from '../../assets/photo.jpg';\r\nimport photo2 from '../../assets/photo2.jpg';\r\nimport Backdrop from '../../components/Backdrop/Backdrop';\r\nimport { fabric } from 'fabric';\r\n\r\nconst Navigation = ({ canvas }) => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n  const [canvasToDownload, setCanvasToDownload] = useState(null);\r\n  const [userFiles, setUserFiles] = useState([\r\n    { src: photo, type: 'image' },\r\n    { src: photo2, type: 'image' },\r\n  ]);\r\n  const donwloadRef = useRef(null);\r\n\r\n  const addTextHandler = () => {\r\n    appDispatch({ type: 'setShouldAddText', data: true });\r\n  };\r\n\r\n  const addShapeClickedHandler = () => {\r\n    appDispatch({ type: 'setIsShapeDropdown', data: true });\r\n  };\r\n\r\n  const addImageClickedHandler = () => {\r\n    appDispatch({ type: 'setIsImageDropdown', data: true });\r\n  };\r\n\r\n  const downloadClickHandler = () => {\r\n    let newCanvas = new fabric.Canvas();\r\n    let jsonCanvas = JSON.stringify(canvas);\r\n    newCanvas.loadFromJSON(jsonCanvas);\r\n    newCanvas.setDimensions({\r\n      width: canvas.getWidth() * 2,\r\n      height: canvas.getHeight() * 2,\r\n    });\r\n    newCanvas.setZoom(2);\r\n    // let backgroundImg = canvas.backgroundImage;\r\n    // if (backgroundImg) {\r\n    //   let imgSrc = backgroundImg._element.currentSrc;\r\n    //   fabric.Image.fromURL(\r\n    //     imgSrc,\r\n    //     newCanvas.requestRenderAll.bind(newCanvas),\r\n    //     (img) => {\r\n    //       newCanvas.setBackgroundImage(img, {\r\n    //         top: backgroundImg.top,\r\n    //         left: backgroundImg.left,\r\n    //         originX: 'left',\r\n    //         originY: 'top',\r\n    //         scaleX: backgroundImg.scaleX,\r\n    //         scaleY: backgroundImg.scaleY,\r\n    //       });\r\n    //     }\r\n    //   );\r\n    // }\r\n    setCanvasToDownload(newCanvas);\r\n  };\r\n\r\n  const donwloadHandler = (c) => {\r\n    c.getElement().toBlob((blob) => {\r\n      donwloadRef.current.href = URL.createObjectURL(blob);\r\n      donwloadRef.current.download = 'design.png';\r\n      donwloadRef.current.click();\r\n    });\r\n    setCanvasToDownload(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (canvasToDownload) {\r\n      console.log(canvasToDownload);\r\n      donwloadHandler(canvasToDownload);\r\n    }\r\n  }, [canvasToDownload]);\r\n\r\n  return (\r\n    <header className={styles.Navigation}>\r\n      <div className={styles.BackFileInfoContainer}>\r\n        <img className={styles.BackArrow} src={backArrow} alt='back' />\r\n        <div className={styles.FileInfoContainer}>\r\n          <p className={styles.FileName}>File Name</p>\r\n          <p className={styles.Creater}>Creater name</p>\r\n        </div>\r\n      </div>\r\n      <div className={styles.DesignControlsContainer}>\r\n        <div className={styles.AddTextContainer} onClick={addTextHandler}>\r\n          <img src={addText} alt='add text' />\r\n          <div className={styles.HoverContent}>\r\n            <div className={styles.HoverTriangle}></div>\r\n            <p className={styles.HoverText}>Add text</p>\r\n          </div>\r\n        </div>\r\n        <div className={styles.DesignControl}>\r\n          <div\r\n            className={styles.AddImageContainer}\r\n            onClick={addImageClickedHandler}\r\n          >\r\n            <img src={addImage} alt='add image' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add image</p>\r\n            </div>\r\n          </div>\r\n\r\n          {appState.isImageDropdown ||\r\n          appState.shouldReplaceImage ||\r\n          appState.shouldAddCanvasBgImage ? (\r\n            <>\r\n              <Backdrop />\r\n              <div className={styles.ImageDropdown}>\r\n                <ImageDropdown\r\n                  userFiles={userFiles}\r\n                  setUserFiles={setUserFiles}\r\n                />\r\n              </div>\r\n            </>\r\n          ) : null}\r\n        </div>\r\n\r\n        <div className={styles.DesignControl}>\r\n          <div\r\n            className={styles.AddShapeContainer}\r\n            onClick={addShapeClickedHandler}\r\n          >\r\n            <img src={addShape} alt='add shape' />\r\n            <div className={styles.HoverContent}>\r\n              <div className={styles.HoverTriangle}></div>\r\n              <p className={styles.HoverText}>Add shape</p>\r\n            </div>\r\n          </div>\r\n\r\n          {appState.isShapeDropdown ? (\r\n            <>\r\n              <Backdrop />\r\n              <div className={styles.ShapeDropdown}>\r\n                <ShapeDropdown />\r\n              </div>\r\n            </>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n      <div className={styles.DownloadUserInfoContainer}>\r\n        <button\r\n          className={styles.DownloadButton}\r\n          onClick={downloadClickHandler}\r\n        >\r\n          Download\r\n        </button>\r\n        <a className={styles.DownloadLink} ref={donwloadRef} href='/'>\r\n          Download\r\n        </a>\r\n        <div className={styles.User}>\r\n          <p className={styles.UserInitials}>DE</p>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/ctrlScale.3fdf1e45.svg\";","export default __webpack_public_path__ + \"static/media/ctrlStretch.018481ed.svg\";","export default __webpack_public_path__ + \"static/media/ctrlRotate.8ba52be7.svg\";","import { fabric } from 'fabric';\r\nimport ctrlScale from '../../assets/ctrlScale.svg';\r\nimport ctrlStretch from '../../assets/ctrlStretch.svg';\r\nimport ctrlRotate from '../../assets/ctrlRotate.svg';\r\n\r\nconst fabricConfig = () => {\r\n  fabric.Object.prototype.transparentCorners = false;\r\n  fabric.Object.prototype.cornerColor = 'white';\r\n  fabric.Object.prototype.borderColor = '#6F7BD0';\r\n  fabric.Object.prototype.cornerStrokeColor = '#6F7BD0';\r\n  fabric.Object.prototype.cornerStyle = 'circle';\r\n\r\n  const ctrlStretchImage = new Image();\r\n  ctrlStretchImage.src = ctrlStretch;\r\n  const ctrlScaleImage = new Image();\r\n  ctrlScaleImage.src = ctrlScale;\r\n  const ctrlRotateImage = new Image();\r\n  ctrlRotateImage.src = ctrlRotate;\r\n  const controlsUtils = fabric.controlsUtils,\r\n    scaleSkewStyleHandler = controlsUtils.scaleSkewCursorStyleHandler,\r\n    scaleStyleHandler = controlsUtils.scaleCursorStyleHandler,\r\n    scalingEqually = controlsUtils.scalingEqually,\r\n    scalingYOrSkewingX = controlsUtils.scalingYOrSkewingX,\r\n    scalingXOrSkewingY = controlsUtils.scalingXOrSkewingY,\r\n    scaleOrSkewActionName = controlsUtils.scaleOrSkewActionName,\r\n    objectControls = fabric.Object.prototype.controls;\r\n\r\n  const renderScaleIcon = (icon) => {\r\n    return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n      let size = this.cornerSize;\r\n      ctx.save();\r\n      ctx.translate(left, top);\r\n      ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle));\r\n      ctx.drawImage(icon, -size / 2, -size / 2, size, size);\r\n      ctx.restore();\r\n    };\r\n  };\r\n\r\n  const renderStretchIconX = (icon) => {\r\n    return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n      let size = this.cornerSize;\r\n      ctx.save();\r\n      ctx.translate(left, top);\r\n      ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle));\r\n      ctx.drawImage(icon, -size / 3.2, -size / 2, size / 1.6, size);\r\n      ctx.restore();\r\n    };\r\n  };\r\n\r\n  const renderStretchIconY = (icon) => {\r\n    return function renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n      let size = this.cornerSize;\r\n      ctx.save();\r\n      ctx.translate(left, top);\r\n      ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle + 90));\r\n      ctx.drawImage(icon, -size / 3.2, -size / 2, size / 1.6, size);\r\n      ctx.restore();\r\n    };\r\n  };\r\n\r\n  objectControls.ml = new fabric.Control({\r\n    x: -0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetY: 3,\r\n    render: renderStretchIconX(ctrlStretchImage),\r\n  });\r\n\r\n  objectControls.mr = new fabric.Control({\r\n    x: 0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderStretchIconX(ctrlStretchImage),\r\n  });\r\n\r\n  objectControls.mt = new fabric.Control({\r\n    x: 0,\r\n    y: -0.5,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingYOrSkewingX,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetX: -3,\r\n    offsetY: -1,\r\n    render: renderStretchIconY(ctrlStretchImage),\r\n  });\r\n\r\n  objectControls.mb = new fabric.Control({\r\n    x: 0,\r\n    y: 0.5,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingYOrSkewingX,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 42,\r\n    offsetX: -3,\r\n    offsetY: 1,\r\n    render: renderStretchIconY(ctrlStretchImage),\r\n  });\r\n\r\n\r\n  objectControls.tl = new fabric.Control({\r\n    x: -0.5,\r\n    y: -0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.tr = new fabric.Control({\r\n    x: 0.5,\r\n    y: -0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.bl = new fabric.Control({\r\n    x: -0.5,\r\n    y: 0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.br = new fabric.Control({\r\n    x: 0.5,\r\n    y: 0.5,\r\n    cursorStyleHandler: scaleStyleHandler,\r\n    actionHandler: scalingEqually,\r\n    cornerSize: 32,\r\n    offsetY: 3,\r\n    offsetX: 1,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  objectControls.mtr = new fabric.Control({\r\n    x: 0,\r\n    y: 0.5,\r\n    cornerSize: 50,\r\n    offsetY: 30,\r\n    actionHandler: controlsUtils.rotationWithSnapping,\r\n    cursorStyleHandler: controlsUtils.rotationStyleHandler,\r\n    withConnection: false,\r\n    actionName: 'rotate',\r\n    render: renderScaleIcon(ctrlRotateImage),\r\n  });\r\n\r\n  if (fabric.Textbox) {\r\n    let textBoxControls = (fabric.Textbox.prototype.controls = {});\r\n    textBoxControls.mtr = objectControls.mtr;\r\n    textBoxControls.mr = new fabric.Control({\r\n      x: 0.5,\r\n      y: 0,\r\n      actionHandler: controlsUtils.changeWidth,\r\n      cursorStyleHandler: scaleSkewStyleHandler,\r\n      actionName: 'resizing',\r\n      cornerSize: 42,\r\n      offsetY: 3,\r\n      offsetX: 1,\r\n      render: renderStretchIconX(ctrlStretchImage),\r\n    });\r\n\r\n    textBoxControls.ml = new fabric.Control({\r\n      x: -0.5,\r\n      y: 0,\r\n      actionHandler: controlsUtils.changeWidth,\r\n      cursorStyleHandler: scaleSkewStyleHandler,\r\n      actionName: 'resizing',\r\n      cornerSize: 42,\r\n      offsetY: 3,\r\n      render: renderStretchIconX(ctrlStretchImage),\r\n    });\r\n  }\r\n\r\n  let line = (fabric.Line.prototype.controls = {});\r\n  line.mtr = objectControls.mtr;\r\n  line.ml = new fabric.Control({\r\n    x: -0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 30,\r\n    offsetY: 3,\r\n    offsetX: 11,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  line.mr = new fabric.Control({\r\n    x: 0.5,\r\n    y: 0,\r\n    cursorStyleHandler: scaleSkewStyleHandler,\r\n    actionHandler: scalingXOrSkewingY,\r\n    getActionName: scaleOrSkewActionName,\r\n    cornerSize: 30,\r\n    offsetY: 3,\r\n    offsetX: -10,\r\n    render: renderScaleIcon(ctrlScaleImage),\r\n  });\r\n\r\n  let image = (fabric.Image.prototype.controls = {});\r\n  image.mtr = objectControls.mtr;\r\n  image.tr = objectControls.tr;\r\n  image.br = objectControls.br;\r\n  image.tl = objectControls.tl;\r\n  image.bl = objectControls.bl;\r\n};\r\n\r\nexport default fabricConfig;\r\n","import { useEffect } from 'react';\r\n\r\nconst keyDownHandler = (e, canvas) => {\r\n  if (canvas) {\r\n    const keyCode = e.keyCode;\r\n    if (canvas && keyCode === 46) {\r\n      canvas.getActiveObjects().forEach((obj) => {\r\n        canvas.remove(obj);\r\n      });\r\n      canvas.discardActiveObject().requestRenderAll();\r\n    }\r\n  }\r\n};\r\n\r\nconst useDeleteSelected = (canvas) => {\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', (e) => keyDownHandler(e, canvas));\r\n    return () =>\r\n      document.removeEventListener('keydown', (e) => keyDownHandler(e, canvas));\r\n  }, [canvas]);\r\n};\r\n\r\nexport default useDeleteSelected;\r\n","import { fabric } from 'fabric';\r\n\r\nexport const scaleAndPositionImage = (image, state, canvas) => {\r\n  let canvasAspect = state.width / state.height;\r\n  let imgAspect = image.width / image.height;\r\n  let left, top, scaleFactor;\r\n  if (canvasAspect >= imgAspect) {\r\n    scaleFactor = state.width / image.width;\r\n    left = 0;\r\n    top = -(image.height * scaleFactor - state.height) / 2;\r\n  } else {\r\n    scaleFactor = state.height / image.height;\r\n    top = 0;\r\n    left = -(image.width * scaleFactor - state.width) / 2;\r\n  }\r\n  canvas.setBackgroundImage(image, canvas.requestRenderAll.bind(canvas), {\r\n    top: top,\r\n    left: left,\r\n    originX: 'left',\r\n    originY: 'top',\r\n    scaleX: scaleFactor,\r\n    scaleY: scaleFactor,\r\n  });\r\n};\r\n\r\nexport const updateCanvasStyle = (state, canvas, dispatch) => {\r\n  canvas.backgroundColor = state.backgroundColor;\r\n  if (state.backgroundImage !== 0) {\r\n    fabric.Image.fromURL(state.backgroundImage, (img) => {\r\n      scaleAndPositionImage(img, state, canvas);\r\n    });\r\n    dispatch({ type: 'setShouldAddCanvasBgImage', data: false });\r\n    dispatch({ type: 'setShowCanvasToolbar', data: false });\r\n  } else {\r\n    canvas.backgroundImage = 0;\r\n    canvas.requestRenderAll();\r\n  }\r\n  dispatch({ type: 'setShouldUpdateCanvas', data: false });\r\n};\r\n\r\nexport const updateCanvasSize = (state, canvas, dispatch) => {};\r\n","import { useEffect, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { scaleAndPositionImage } from './utils/updateCanvas';\r\n\r\nconst initCanvas = (state) => {\r\n  let canvas = new fabric.Canvas('canvas', {\r\n    width: state.width,\r\n    height: state.height,\r\n    backgroundColor: state.backgroundColor,\r\n  });\r\n  if (state.backgroundImage) {\r\n    fabric.Image.fromURL(state.backgroundImage, function (img) {\r\n      scaleAndPositionImage(img, state, canvas);\r\n    });\r\n  }\r\n  return canvas;\r\n};\r\n\r\nconst useInitCanvas = (state, setCanvas, setIsCanvasSet) => {\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      setIsFirstLoad(false);\r\n      setCanvas(initCanvas(state.canvasState));\r\n      setIsCanvasSet(true);\r\n    }\r\n  }, [setCanvas, setIsCanvasSet, state.canvasState, isFirstLoad]);\r\n};\r\n\r\nexport default useInitCanvas;\r\n","import { fabric } from 'fabric';\r\n\r\nconst ShowControls = {\r\n  tl: true,\r\n  tr: true,\r\n  bl: true,\r\n  br: true,\r\n  ml: true,\r\n  mt: false,\r\n  mr: true,\r\n  mb: false,\r\n  mtr: true,\r\n};\r\n\r\nexport const addNewImage = (state, canvas, dispatch, id, updateId) => {\r\n  let image = state.imageToAdd;\r\n  if (state.shouldReplaceImage) {\r\n    let active = canvas.getActiveObject();\r\n    fabric.Image.fromURL(image, (img) => {\r\n      img.top = active.top;\r\n      img.left = active.left;\r\n      img.scaleToWidth(active.width * active.scaleX);\r\n      img.angle = active.angle;\r\n      img.setControlsVisibility(ShowControls);\r\n      img.id = active.id;\r\n      img.cornerRadius = active.cornerRadius;\r\n      canvas.remove(active);\r\n      canvas.add(img).setActiveObject(img);\r\n      canvas.requestRenderAll();\r\n      dispatch({ type: 'setShouldUpdateImage', data: true });\r\n      dispatch({ type: 'setShouldReplaceImage', data: false });\r\n    });\r\n  } else {\r\n    fabric.Image.fromURL(image, (img) => {\r\n      img.scaleToWidth(256);\r\n      img.left = 100;\r\n      img.top = 100;\r\n      img.setControlsVisibility(ShowControls);\r\n      img.id = id;\r\n      img.cornerRadius = 0;\r\n      canvas.add(img).setActiveObject(img);\r\n      canvas.requestRenderAll();\r\n      updateId();\r\n    });\r\n  }\r\n  dispatch({ type: 'setImageToAdd', data: null });\r\n};\r\n\r\nexport const addNewText = (canvas, state, dispatch, id, updateId) => {\r\n  dispatch({ type: 'setShouldAddText', data: false });\r\n  let text = new fabric.Textbox('Addtext', {\r\n    left: 100,\r\n    top: 100,\r\n    height: 100,\r\n    padding: 10,\r\n    width: 130,\r\n    splitByGrapheme: true,\r\n    ...state.textState,\r\n  });\r\n  text.id = id;\r\n  canvas.add(text).setActiveObject(text);\r\n  canvas.requestRenderAll();\r\n  updateId();\r\n};\r\n\r\nconst addNewRect = () => {\r\n  let rect = new fabric.Rect({\r\n    left: 100,\r\n    top: 200,\r\n    width: 152,\r\n    height: 152,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n  });\r\n  rect.setControlsVisibility(ShowControls);\r\n  return rect;\r\n};\r\n\r\nconst addNewRoundedRect = () => {\r\n  let rect = addNewRect();\r\n  rect.rx = 30;\r\n  rect.ry = 30;\r\n  return rect;\r\n};\r\n\r\nconst addNewCircle = () => {\r\n  let circle = new fabric.Circle({\r\n    left: 100,\r\n    top: 200,\r\n    radius: 76,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n  });\r\n  circle.setControlsVisibility(ShowControls);\r\n  return circle;\r\n};\r\n\r\nconst addNewTriangle = () => {\r\n  let triangle = new fabric.Triangle({\r\n    left: 100,\r\n    top: 200,\r\n    width: 152,\r\n    height: 150,\r\n    noScaleCache: false,\r\n    strokeUniform: true,\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n  });\r\n  triangle.setControlsVisibility(ShowControls);\r\n  return triangle;\r\n};\r\n\r\nconst addNewLine = () => {\r\n  let line = new fabric.Line([0, 0, 300, 0], {\r\n    left: 100,\r\n    top: 200,\r\n    stroke: 'rgba(196,196,196,1)',\r\n    strokeWidth: 2,\r\n    padding: 10,\r\n    borderColor: 'transparent',\r\n    noScaleCache: false,\r\n  });\r\n  return line;\r\n};\r\n\r\nexport const addNewShape = (state, canvas, dispatch, id, updateId) => {\r\n  dispatch({ type: 'setShapeToAdd', data: null });\r\n  let obj = null;\r\n  if (state.shapeToAdd === 'square') obj = addNewRect();\r\n  else if (state.shapeToAdd === 'roundedSquare') obj = addNewRoundedRect();\r\n  else if (state.shapeToAdd === 'circle') obj = addNewCircle();\r\n  else if (state.shapeToAdd === 'triangle') obj = addNewTriangle();\r\n  else if (state.shapeToAdd === 'line') obj = addNewLine();\r\n  if (obj) {\r\n    obj.id = id;\r\n    canvas.add(obj).setActiveObject(obj);\r\n    canvas.requestRenderAll();\r\n    updateId();\r\n  }\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { addNewImage, addNewShape, addNewText } from './utils/addObject';\r\n\r\nconst useAddObject = (state, dispatch, canvas) => {\r\n  const [id, setId] = useState(1);\r\n  const updatetId = () => setId((i) => i + 1);\r\n\r\n  useEffect(() => {\r\n    if (state.shapeToAdd) {\r\n      addNewShape(state, canvas, dispatch, id, updatetId);\r\n    } else if (state.imageToAdd) {\r\n      addNewImage(state, canvas, dispatch, id, updatetId);\r\n    } else if (state.shouldAddText) {\r\n      addNewText(canvas, state, dispatch, id, updatetId);\r\n    }\r\n  }, [canvas, dispatch, state, id]);\r\n};\r\n\r\nexport default useAddObject;\r\n","const textPropertyArr = [\r\n  'fontFamily',\r\n  'fontStyle',\r\n  'fontWeight',\r\n  'fontSize',\r\n  'fill',\r\n  'opacity',\r\n  'textAlign',\r\n];\r\n\r\nconst shapePropertyArr = ['fill', 'stroke', 'strokeWidth'];\r\nconst imagePropertyArr = ['cornerRadius'];\r\n\r\nconst handleText = (e, dispatch) => {\r\n  let newTextState = {};\r\n  textPropertyArr.forEach((property) => {\r\n    newTextState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setTextState', data: newTextState });\r\n  return 'text';\r\n};\r\n\r\nconst handleShape = (e, dispatch) => {\r\n  let newShapeState = {};\r\n  shapePropertyArr.forEach((property) => {\r\n    newShapeState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setShapeState', data: newShapeState });\r\n  return e.target.type;\r\n};\r\n\r\nconst handleImage = (e, dispatch) => {\r\n  let newImageState = {};\r\n  imagePropertyArr.forEach((property) => {\r\n    newImageState[property] = e.target[property];\r\n  });\r\n  dispatch({ type: 'setImageState', data: newImageState });\r\n  return 'image';\r\n};\r\n\r\nconst handleSelected = (e, dispatch) => {\r\n  let obj = { type: '', object: null };\r\n  if (e.target.type === 'activeSelection') {\r\n    dispatch({ type: 'setCurrentObject', data: obj });\r\n    return;\r\n  }\r\n\r\n  dispatch({ type: 'setCurrentCoords', data: e.target.lineCoords });\r\n  if (e.target.type === 'textbox') obj.type = handleText(e, dispatch);\r\n  else if (e.target.type === 'image') obj.type = handleImage(e, dispatch);\r\n  else obj.type = handleShape(e, dispatch);\r\n  obj.object = e.target;\r\n  dispatch({ type: 'setCurrentObject', data: obj });\r\n};\r\n\r\nexport const onCreated = (\r\n  e,\r\n  canvas,\r\n  dispatch,\r\n  setIsMoving,\r\n  showCanvasToolbar\r\n) => {\r\n  console.log('created');\r\n  if (showCanvasToolbar) {\r\n    dispatch({ type: 'setShowCanvasToolbar', data: false });\r\n  }\r\n  if (e.target.type !== 'activeSelection') {\r\n    e.target.on('moving', () => setIsMoving(true));\r\n  }\r\n  handleSelected(e, dispatch);\r\n  let canvasJSON = JSON.stringify(canvas);\r\n  sessionStorage.setItem('designCanvas', canvasJSON);\r\n};\r\n\r\nexport const onCleared = (e, canvas, dispatch, currentId) => {\r\n  console.log('cleared');\r\n  currentId.current = null;\r\n\r\n  if (e.deselected && e.deselected.length === 1) e.deselected[0].off('moving');\r\n\r\n  dispatch({\r\n    type: 'setCurrentObject',\r\n    data: { type: '', object: null },\r\n  });\r\n  dispatch({\r\n    type: 'setCurrentCoords',\r\n    data: null,\r\n  });\r\n  let canvasJSON = JSON.stringify(canvas);\r\n  sessionStorage.setItem('designCanvas', canvasJSON);\r\n};\r\n\r\nexport const onModified = (e, canvas, dispatch) => {\r\n  console.log('modified');\r\n  handleSelected(e, dispatch);\r\n  let canvasJSON = JSON.stringify(canvas);\r\n  sessionStorage.setItem('designCanvas', canvasJSON);\r\n};\r\n\r\nexport const onUpdated = (e, dispatch, setIsMoving) => {\r\n  console.log('updated');\r\n  dispatch({ type: 'setShowToolbar', data: false });\r\n  if (e.deselected.length === 1) e.deselected[0].off('moving');\r\n  handleSelected(e, dispatch);\r\n  if (e.target.type !== 'activeSelection') {\r\n    e.target.on('moving', () => setIsMoving(true));\r\n  }\r\n};\r\n\r\nexport const onTextEnter = (e, c, setIsEditingText) => {\r\n  setIsEditingText(true);\r\n  if (e.target.text === 'Addtext') {\r\n    e.target.text = '';\r\n    e.target.hiddenTextarea.value = '';\r\n    c.requestRenderAll();\r\n  }\r\n};\r\n\r\nexport const onTextExit = (e, c, setIsEditingText) => {\r\n  setIsEditingText(false);\r\n  if (e.target.text === '') e.target.text = 'Addtext';\r\n  c.requestRenderAll();\r\n};\r\n","import { useCallback, useEffect, useState, useRef } from 'react';\r\nimport {\r\n  onCreated,\r\n  onModified,\r\n  onCleared,\r\n  onUpdated,\r\n  onTextEnter,\r\n  onTextExit,\r\n} from './utils/onCanvasEvents';\r\n\r\nconst removeListeners = (c) => {\r\n  c.off('selection:created');\r\n  c.off('selection:updated');\r\n  c.off('selection:cleared');\r\n  c.off('object:modified');\r\n  c.off('object:rotating');\r\n  c.off('object:rotated');\r\n  c.off('object:scaling');\r\n  c.off('object:scaled');\r\n  c.off('object:skewing');\r\n  c.off('object:skewed');\r\n  c.off('object:moved');\r\n  c.off('text:editing:entered');\r\n  c.off('text:editing:exited');\r\n};\r\n\r\nconst useSelectionObserver = (isCanvasSet, canvas, state, dispatch) => {\r\n  const [isRotating, setIsRotating] = useState(false);\r\n  const [isScaling, setIsScaling] = useState(false);\r\n  const [isSkewing, setIsSkewing] = useState(false);\r\n  const [isMoving, setIsMoving] = useState(false);\r\n  const [isEditingText, setIsEditingText] = useState(false);\r\n  const isFirstLoad = useRef(true);\r\n  const currentId = useRef(null);\r\n\r\n  const addListeners = useCallback((c, dispatch, showCanvasToolbar) => {\r\n    c.on('text:editing:entered', (e) => onTextEnter(e, c, setIsEditingText));\r\n    c.on('text:editing:exited', (e) => onTextExit(e, c, setIsEditingText));\r\n    c.on('selection:created', (e) =>\r\n      onCreated(e, c, dispatch, setIsMoving, showCanvasToolbar)\r\n    );\r\n    c.on('selection:updated', (e) => onUpdated(e, dispatch, setIsMoving));\r\n    c.on('object:modified', (e) => onModified(e, c, dispatch));\r\n    c.on('selection:cleared', (e) => onCleared(e, c, dispatch, currentId));\r\n    c.on('object:rotating', () => setIsRotating(true));\r\n    c.on('object:rotated', () => setIsRotating(false));\r\n    c.on('object:scaling', () => setIsScaling(true));\r\n    c.on('object:scaled', () => setIsScaling(false));\r\n    c.on('object:skewing', () => setIsSkewing(true));\r\n    c.on('object:skewed', () => setIsSkewing(false));\r\n    c.on('object:moved', () => setIsMoving(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet) {\r\n      if (!state.isCroppingImage)\r\n        addListeners(canvas, dispatch, state.showCanvasToolbar);\r\n      else removeListeners(canvas);\r\n    }\r\n    return () => {\r\n      if (isCanvasSet) removeListeners(canvas);\r\n    };\r\n  }, [\r\n    dispatch,\r\n    isCanvasSet,\r\n    canvas,\r\n    addListeners,\r\n    state.isCroppingImage,\r\n    state.showCanvasToolbar,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!isFirstLoad.current) {\r\n      let data = true;\r\n      if (\r\n        isRotating ||\r\n        isScaling ||\r\n        isSkewing ||\r\n        isMoving ||\r\n        isEditingText ||\r\n        state.isCroppingImage\r\n      )\r\n        data = false;\r\n      dispatch({ type: 'setShowToolbar', data });\r\n    }\r\n  }, [\r\n    isRotating,\r\n    isScaling,\r\n    isSkewing,\r\n    isMoving,\r\n    isEditingText,\r\n    state.isCroppingImage,\r\n    dispatch,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!isFirstLoad.current && !state.isCroppingImage) {\r\n      if (!state.currentObject.object) {\r\n        dispatch({ type: 'setShowToolbar', data: false });\r\n      } else if (\r\n        state.currentObject.object &&\r\n        state.currentObject.object.id !== currentId.current\r\n      ) {\r\n        currentId.current = state.currentObject.object.id;\r\n        dispatch({ type: 'setShowToolbar', data: true });\r\n      }\r\n    } else isFirstLoad.current = false;\r\n  }, [state.currentObject.object, dispatch, state.isCroppingImage]);\r\n};\r\n\r\nexport default useSelectionObserver;\r\n","import { fabric } from 'fabric';\r\n\r\nconst drawLine = (\r\n  x1,\r\n  y1,\r\n  x2,\r\n  y2,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  ctx.save();\r\n  ctx.lineWidth = aligningLineWidth;\r\n  ctx.strokeStyle = aligningLineColor;\r\n  ctx.beginPath();\r\n  ctx.moveTo(\r\n    (x1 + viewportTransform[4]) * zoom,\r\n    (y1 + viewportTransform[5]) * zoom\r\n  );\r\n  ctx.lineTo(\r\n    (x2 + viewportTransform[4]) * zoom,\r\n    (y2 + viewportTransform[5]) * zoom\r\n  );\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nconst isInRange = (value1, value2, aligningLineMargin) => {\r\n  value1 = Math.round(value1);\r\n  value2 = Math.round(value2);\r\n  for (\r\n    let i = value1 - aligningLineMargin, len = value1 + aligningLineMargin;\r\n    i <= len;\r\n    i++\r\n  ) {\r\n    if (i === value2) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const drawVerticalLine = (\r\n  coords,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  drawLine(\r\n    coords.x + 0.5,\r\n    coords.y1 > coords.y2 ? coords.y2 : coords.y1,\r\n    coords.x + 0.5,\r\n    coords.y2 > coords.y1 ? coords.y2 : coords.y1,\r\n    ctx,\r\n    aligningLineWidth,\r\n    aligningLineColor,\r\n    viewportTransform,\r\n    zoom\r\n  );\r\n};\r\n\r\nexport const drawHorizontalLine = (\r\n  coords,\r\n  ctx,\r\n  aligningLineWidth,\r\n  aligningLineColor,\r\n  viewportTransform,\r\n  zoom\r\n) => {\r\n  drawLine(\r\n    coords.x1 > coords.x2 ? coords.x2 : coords.x1,\r\n    coords.y + 0.5,\r\n    coords.x2 > coords.x1 ? coords.x2 : coords.x1,\r\n    coords.y + 0.5,\r\n    ctx,\r\n    aligningLineWidth,\r\n    aligningLineColor,\r\n    viewportTransform,\r\n    zoom\r\n  );\r\n};\r\n\r\nexport const objectMovingObserver = (\r\n  e,\r\n  canvas,\r\n  viewportTransform,\r\n  aligningLineOffset,\r\n  setVerticalLines,\r\n  setHorizontalLines,\r\n  aligningLineMargin\r\n) => {\r\n  let activeObject = e.target,\r\n    canvasObjects = canvas.getObjects(),\r\n    activeObjectCenter = activeObject.getCenterPoint(),\r\n    activeObjectLeft = activeObjectCenter.x,\r\n    activeObjectTop = activeObjectCenter.y,\r\n    activeObjectBoundingRect = activeObject.getBoundingRect(),\r\n    activeObjectHeight = activeObjectBoundingRect.height / viewportTransform[3],\r\n    activeObjectWidth = activeObjectBoundingRect.width / viewportTransform[0],\r\n    horizontalInTheRange = false,\r\n    verticalInTheRange = false,\r\n    transform = canvas._currentTransform;\r\n\r\n  if (!transform) return;\r\n\r\n  for (let i = canvasObjects.length; i--; ) {\r\n    if (canvasObjects[i] === activeObject) continue;\r\n\r\n    let objectCenter = canvasObjects[i].getCenterPoint(),\r\n      objectLeft = objectCenter.x,\r\n      objectTop = objectCenter.y,\r\n      objectBoundingRect = canvasObjects[i].getBoundingRect(),\r\n      objectHeight = objectBoundingRect.height / viewportTransform[3],\r\n      objectWidth = objectBoundingRect.width / viewportTransform[0];\r\n\r\n    // snap by the horizontal center line\r\n    if (isInRange(objectLeft, activeObjectLeft, aligningLineMargin)) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(objectLeft, activeObjectTop),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the left edge\r\n    if (\r\n      isInRange(\r\n        objectLeft - objectWidth / 2,\r\n        activeObjectLeft - activeObjectWidth / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft - objectWidth / 2,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          objectLeft - objectWidth / 2 + activeObjectWidth / 2,\r\n          activeObjectTop\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the right edge\r\n    if (\r\n      isInRange(\r\n        objectLeft + objectWidth / 2,\r\n        activeObjectLeft + activeObjectWidth / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      verticalInTheRange = true;\r\n      setVerticalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          x: objectLeft + objectWidth / 2,\r\n          y1:\r\n            objectTop < activeObjectTop\r\n              ? objectTop - objectHeight / 2 - aligningLineOffset\r\n              : objectTop + objectHeight / 2 + aligningLineOffset,\r\n          y2:\r\n            activeObjectTop > objectTop\r\n              ? activeObjectTop + activeObjectHeight / 2 + aligningLineOffset\r\n              : activeObjectTop - activeObjectHeight / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          objectLeft + objectWidth / 2 - activeObjectWidth / 2,\r\n          activeObjectTop\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the vertical center line\r\n    if (isInRange(objectTop, activeObjectTop, aligningLineMargin)) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(activeObjectLeft, objectTop),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the top edge\r\n    if (\r\n      isInRange(\r\n        objectTop - objectHeight / 2,\r\n        activeObjectTop - activeObjectHeight / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop - objectHeight / 2,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          activeObjectLeft,\r\n          objectTop - objectHeight / 2 + activeObjectHeight / 2\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n\r\n    // snap by the bottom edge\r\n    if (\r\n      isInRange(\r\n        objectTop + objectHeight / 2,\r\n        activeObjectTop + activeObjectHeight / 2,\r\n        aligningLineMargin\r\n      )\r\n    ) {\r\n      horizontalInTheRange = true;\r\n      setHorizontalLines((prevState) => [\r\n        ...prevState,\r\n        {\r\n          y: objectTop + objectHeight / 2,\r\n          x1:\r\n            objectLeft < activeObjectLeft\r\n              ? objectLeft - objectWidth / 2 - aligningLineOffset\r\n              : objectLeft + objectWidth / 2 + aligningLineOffset,\r\n          x2:\r\n            activeObjectLeft > objectLeft\r\n              ? activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset\r\n              : activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset,\r\n        },\r\n      ]);\r\n\r\n      activeObject.setPositionByOrigin(\r\n        new fabric.Point(\r\n          activeObjectLeft,\r\n          objectTop + objectHeight / 2 - activeObjectHeight / 2\r\n        ),\r\n        'center',\r\n        'center'\r\n      );\r\n    }\r\n  }\r\n\r\n  if (!horizontalInTheRange) setHorizontalLines([]);\r\n  if (!verticalInTheRange) setVerticalLines([]);\r\n};\r\n","import { fabric } from 'fabric';\r\n\r\nconst showCenterLine = (\r\n  x1,\r\n  y1,\r\n  x2,\r\n  y2,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  ctx.save();\r\n  ctx.strokeStyle = centerLineColor;\r\n  ctx.lineWidth = centerLineWidth;\r\n  ctx.beginPath();\r\n  ctx.moveTo(x1 * viewportTransform[0], y1 * viewportTransform[3]);\r\n  ctx.lineTo(x2 * viewportTransform[0], y2 * viewportTransform[3]);\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nexport const showVerticalCenterLine = (\r\n  canvasWidthCenter,\r\n  canvasHeight,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  showCenterLine(\r\n    canvasWidthCenter + 0.5,\r\n    0,\r\n    canvasWidthCenter + 0.5,\r\n    canvasHeight,\r\n    ctx,\r\n    centerLineColor,\r\n    centerLineWidth,\r\n    viewportTransform\r\n  );\r\n};\r\n\r\nexport const showHorizontalCenterLine = (\r\n  canvasHeightCenter,\r\n  canvasWidth,\r\n  ctx,\r\n  centerLineColor,\r\n  centerLineWidth,\r\n  viewportTransform\r\n) => {\r\n  showCenterLine(\r\n    0,\r\n    canvasHeightCenter + 0.5,\r\n    canvasWidth,\r\n    canvasHeightCenter + 0.5,\r\n    ctx,\r\n    centerLineColor,\r\n    centerLineWidth,\r\n    viewportTransform\r\n  );\r\n};\r\n\r\nexport const objectMovingCenterObserver = (\r\n  e,\r\n  canvas,\r\n  setIsInVerticalCenter,\r\n  setIsInHorizontalCenter,\r\n  canvasWidthCenterMap,\r\n  canvasHeightCenterMap,\r\n  canvasWidth,\r\n  canvasHeight\r\n) => {\r\n  let object = e.target,\r\n    objectCenter = object.getCenterPoint(),\r\n    transform = canvas._currentTransform;\r\n\r\n  if (!transform) return;\r\n  let isInVertical = Math.round(objectCenter.x) in canvasWidthCenterMap;\r\n  let isInHorizontal = Math.round(objectCenter.y) in canvasHeightCenterMap;\r\n  setIsInVerticalCenter(isInVertical);\r\n  setIsInHorizontalCenter(isInHorizontal);\r\n\r\n  if (isInVertical || isInHorizontal) {\r\n    object.setPositionByOrigin(\r\n      new fabric.Point(\r\n        isInVertical ? canvasWidth / 2 : objectCenter.x,\r\n        isInHorizontal ? canvasHeight / 2 : objectCenter.y\r\n      ),\r\n      'center',\r\n      'center'\r\n    );\r\n  }\r\n};\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport {\r\n  drawVerticalLine,\r\n  drawHorizontalLine,\r\n  objectMovingObserver,\r\n} from './utils/aligningGuidelines';\r\nimport {\r\n  showVerticalCenterLine,\r\n  showHorizontalCenterLine,\r\n  objectMovingCenterObserver,\r\n} from './utils/centeringGuidelines';\r\n\r\nconst useGuideLines = (state, isCanvasSet, canvas) => {\r\n  const [ctx, setCtx] = useState(null);\r\n  const [viewportTransform, setViewportTransform] = useState(null);\r\n  const [verticalLines, setVerticalLines] = useState([]);\r\n  const [horizontalLines, setHorizontalLines] = useState([]);\r\n  const [zoom, setZoom] = useState(1);\r\n\r\n  const [canvasWidth, setCanvasWidth] = useState(null);\r\n  const [canvasHeight, setCanvasHeight] = useState(null);\r\n  const [canvasWidthCenterMap, setCanvasWidthCenterMap] = useState({});\r\n  const [canvasHeightCenterMap, setCanvasHeightCenterMap] = useState({});\r\n  const [isInVerticalCenter, setIsInVerticalCenter] = useState(null);\r\n  const [isInHorizontalCenter, setIsInHorizontalCenter] = useState(null);\r\n\r\n  const aligningLineOffset = 5;\r\n  const aligningLineWidth = 1;\r\n  const centerLineWidth = 1;\r\n  const aligningLineMargin = 4;\r\n  const centerLineMargin = 4;\r\n  const aligningLineColor = 'rgba(255,0,241,0.5)';\r\n  const centerLineColor = 'rgba(255,0,241,0.5)';\r\n\r\n  const handleMouseDown = useCallback(() => {\r\n    setViewportTransform(canvas.viewportTransform);\r\n    setZoom(canvas.getZoom());\r\n  }, [canvas]);\r\n\r\n  const handleBeforeRender = useCallback(() => {\r\n    canvas.clearContext(canvas.contextTop);\r\n  }, [canvas]);\r\n\r\n  const handleMoving = useCallback(\r\n    (e) => {\r\n      objectMovingObserver(\r\n        e,\r\n        canvas,\r\n        viewportTransform,\r\n        aligningLineOffset,\r\n        setVerticalLines,\r\n        setHorizontalLines,\r\n        aligningLineMargin\r\n      );\r\n      objectMovingCenterObserver(\r\n        e,\r\n        canvas,\r\n        setIsInVerticalCenter,\r\n        setIsInHorizontalCenter,\r\n        canvasWidthCenterMap,\r\n        canvasHeightCenterMap,\r\n        canvasWidth,\r\n        canvasHeight\r\n      );\r\n    },\r\n    [\r\n      canvas,\r\n      viewportTransform,\r\n      canvasHeight,\r\n      canvasHeightCenterMap,\r\n      canvasWidth,\r\n      canvasWidthCenterMap,\r\n    ]\r\n  );\r\n\r\n  const handleAfterRender = useCallback(() => {\r\n    for (let i = verticalLines.length; i--; ) {\r\n      drawVerticalLine(\r\n        verticalLines[i],\r\n        ctx,\r\n        aligningLineWidth,\r\n        aligningLineColor,\r\n        viewportTransform,\r\n        zoom\r\n      );\r\n    }\r\n    for (let i = horizontalLines.length; i--; ) {\r\n      drawHorizontalLine(\r\n        horizontalLines[i],\r\n        ctx,\r\n        aligningLineWidth,\r\n        aligningLineColor,\r\n        viewportTransform,\r\n        zoom\r\n      );\r\n    }\r\n    setVerticalLines([]);\r\n    setHorizontalLines([]);\r\n    if (isInVerticalCenter) {\r\n      showVerticalCenterLine(\r\n        canvasWidth / 2,\r\n        canvasHeight,\r\n        ctx,\r\n        centerLineColor,\r\n        centerLineWidth,\r\n        viewportTransform\r\n      );\r\n    }\r\n    if (isInHorizontalCenter) {\r\n      showHorizontalCenterLine(\r\n        canvasHeight / 2,\r\n        canvasWidth,\r\n        ctx,\r\n        centerLineColor,\r\n        centerLineWidth,\r\n        viewportTransform\r\n      );\r\n    }\r\n  }, [\r\n    ctx,\r\n    viewportTransform,\r\n    horizontalLines,\r\n    verticalLines,\r\n    zoom,\r\n    canvasHeight,\r\n    canvasWidth,\r\n    isInHorizontalCenter,\r\n    isInVerticalCenter,\r\n  ]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setVerticalLines([]);\r\n    setHorizontalLines([]);\r\n    setIsInVerticalCenter(null);\r\n    setIsInHorizontalCenter(null);\r\n    canvas.requestRenderAll();\r\n  }, [canvas]);\r\n\r\n  const initGuideLines = useCallback(() => {\r\n    setCtx(canvas.getSelectionContext());\r\n    setCanvasWidth(canvas.getWidth());\r\n    setCanvasHeight(canvas.getHeight());\r\n    let widthMap = {};\r\n    let heightMap = {};\r\n    for (\r\n      let i = canvasWidth / 2 - centerLineMargin,\r\n        len = canvasWidth / 2 + centerLineMargin;\r\n      i <= len;\r\n      i++\r\n    ) {\r\n      widthMap[Math.round(i)] = true;\r\n    }\r\n    for (\r\n      let i = canvasHeight / 2 - centerLineMargin,\r\n        len = canvasHeight / 2 + centerLineMargin;\r\n      i <= len;\r\n      i++\r\n    ) {\r\n      heightMap[Math.round(i)] = true;\r\n    }\r\n    setCanvasWidthCenterMap(widthMap);\r\n    setCanvasHeightCenterMap(heightMap);\r\n  }, [canvasHeight, canvasWidth, canvas]);\r\n\r\n  const removelistneres = useCallback((canvas) => {\r\n    canvas.off('object:added');\r\n    canvas.off('mouse:down');\r\n    canvas.off('object:moving');\r\n    canvas.off('before:render');\r\n    canvas.off('after:render');\r\n    canvas.off('mouse:up');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet) {\r\n      initGuideLines();\r\n    }\r\n  }, [isCanvasSet, initGuideLines]);\r\n\r\n  useEffect(() => {\r\n    if (isCanvasSet && ctx && !state.isCroppingImage) {\r\n      canvas.on('mouse:down', handleMouseDown);\r\n      canvas.on('object:moving', handleMoving);\r\n      canvas.on('before:render', handleBeforeRender);\r\n      canvas.on('after:render', handleAfterRender);\r\n      canvas.on('mouse:up', handleMouseUp);\r\n    } else if (state.isCroppingImage) removelistneres(canvas);\r\n    return () => {\r\n      if (isCanvasSet && ctx) removelistneres(canvas);\r\n    };\r\n  }, [\r\n    state.isCroppingImage,\r\n    removelistneres,\r\n    isCanvasSet,\r\n    ctx,\r\n    canvas,\r\n    handleMouseUp,\r\n    handleAfterRender,\r\n    handleMoving,\r\n    handleBeforeRender,\r\n    handleMouseDown,\r\n  ]);\r\n};\r\n\r\nexport default useGuideLines;\r\n","import WebFont from 'webfontloader';\r\n\r\nexport const loadAndUse = (canvas, text, font) => {\r\n  WebFont.load({\r\n    google: {\r\n      families: [font],\r\n    },\r\n    timeout: 5000,\r\n    fontactive: (familyName, fvd) => {\r\n      text.set({ fontFamily: familyName });\r\n      canvas.requestRenderAll();\r\n    },\r\n  });\r\n};\r\n\r\nexport const updateTextStyle = (state, canvas, dispatch) => {\r\n  if (state.textState) {\r\n    state.currentObject.object._clearCache();\r\n    for (const [key, value] of Object.entries(state.textState)) {\r\n      if (key !== 'fontFamily') {\r\n        state.currentObject.object.set(key, value);\r\n      }\r\n    }\r\n    loadAndUse(canvas, state.currentObject.object, state.textState.fontFamily);\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n  }\r\n  dispatch({ type: 'setShouldUpdateText', data: false });\r\n};\r\n","import { fabric } from 'fabric';\r\n\r\nconst roundedCorners = (img, radius) => {\r\n  let currentRadiusX = (img.width * img.scaleX * radius) / 200;\r\n  let currentRadiusY = (img.height * img.scaleY * radius) / 200;\r\n  let rect = new fabric.Rect({\r\n    width: img.width,\r\n    height: img.height,\r\n    rx: currentRadiusX / img.scaleX,\r\n    ry: currentRadiusY / img.scaleY,\r\n    left: -img.width / 2,\r\n    top: -img.height / 2,\r\n    noScaleCache: false,\r\n  });\r\n  return rect;\r\n};\r\n\r\nexport const updateImageStyle = (state, canvas, dispatch) => {\r\n  let image = canvas.getActiveObject();\r\n  if (image && image.type === 'image') {\r\n    let radius = state.imageState.cornerRadius;\r\n    image.set('clipPath', roundedCorners(image, radius));\r\n    image.cornerRadius = radius;\r\n    canvas.requestRenderAll();\r\n  }\r\n  dispatch({ type: 'setShouldUpdateImage', data: false });\r\n};\r\n","import { useEffect } from 'react';\r\nimport { updateTextStyle } from './utils/updateText';\r\nimport { updateShapeStyle } from './utils/updateShape';\r\nimport { updateImageStyle } from './utils/updateImage';\r\nimport { updateCanvasStyle, updateCanvasSize } from './utils/updateCanvas';\r\n\r\nconst shapeArr = ['rect', 'circle', 'triangle', 'line'];\r\n\r\nconst useUpdateObject = (state, dispatch, canvas) => {\r\n  useEffect(() => {\r\n    if (state.shouldUpdateCanvas) {\r\n      updateCanvasStyle(state.canvasState, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateCanvasSize) {\r\n      updateCanvasSize(state.canvasState, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateText && state.currentObject.type === 'text') {\r\n      updateTextStyle(state, canvas, dispatch);\r\n    }\r\n    if (\r\n      state.shouldUpdateShape &&\r\n      shapeArr.includes(state.currentObject.type)\r\n    ) {\r\n      updateShapeStyle(state, canvas, dispatch);\r\n    }\r\n    if (state.shouldUpdateImage && state.currentObject.type === 'image') {\r\n      updateImageStyle(state, canvas, dispatch);\r\n    }\r\n  }, [state, dispatch, canvas]);\r\n};\r\n\r\nexport default useUpdateObject;\r\n","export const updateShapeStyle = (state, canvas, dispatch) => {\r\n  if (state.shapeState) {\r\n    // state.currentObject.object._clearCache();\r\n    for (const [key, value] of Object.entries(state.shapeState)) {\r\n      state.currentObject.object.set(key, value);\r\n    }\r\n    if (!state.showToolbar) dispatch({ type: 'setShowToolbar', data: true });\r\n    canvas.requestRenderAll();\r\n  }\r\n  dispatch({ type: 'setShouldUpdateShape', data: false });\r\n};\r\n","export default __webpack_public_path__ + \"static/media/downArrow.fef3575b.svg\";","export default __webpack_public_path__ + \"static/media/bold.a2d1e7f9.svg\";","export default __webpack_public_path__ + \"static/media/italic.3764ee89.svg\";","export default __webpack_public_path__ + \"static/media/textLeft.6dd8e1e0.svg\";","export default __webpack_public_path__ + \"static/media/textRight.41f15bae.svg\";","export default __webpack_public_path__ + \"static/media/textCenter.ac71018d.svg\";","export default __webpack_public_path__ + \"static/media/textJustify.7c9f4495.svg\";","export default __webpack_public_path__ + \"static/media/search.8a6f52ef.svg\";","const fonts =  [\r\n  'ABeeZee',\r\n  'Abel',\r\n  'Abhaya Libre',\r\n  'Abril Fatface',\r\n  'Aclonica',\r\n  'Acme',\r\n  'Actor',\r\n  'Adamina',\r\n  'Advent Pro',\r\n  'Aguafina Script',\r\n  'Akaya Kanadaka',\r\n  'Akaya Telivigala',\r\n  'Akronim',\r\n  'Aladin',\r\n  'Alata',\r\n  'Alatsi',\r\n  'Aldrich',\r\n  'Alef',\r\n  'Alegreya',\r\n  'Alegreya SC',\r\n  'Alegreya Sans',\r\n  'Alegreya Sans SC',\r\n  'Aleo',\r\n  'Alex Brush',\r\n  'Alfa Slab One',\r\n  'Alice',\r\n  'Alike',\r\n  'Alike Angular',\r\n  'Allan',\r\n  'Allerta',\r\n  'Allerta Stencil',\r\n  'Allura',\r\n  'Almarai',\r\n  'Almendra',\r\n  'Almendra Display',\r\n  'Almendra SC',\r\n  'Amarante',\r\n  'Amaranth',\r\n  'Amatic SC',\r\n  'Amethysta',\r\n  'Amiko',\r\n  'Amiri',\r\n  'Amita',\r\n  'Anaheim',\r\n  'Andada',\r\n  'Andika',\r\n  'Andika New Basic',\r\n  'Angkor',\r\n  'Annie Use Your Telescope',\r\n  'Anonymous Pro',\r\n  'Antic',\r\n  'Antic Didone',\r\n  'Antic Slab',\r\n  'Anton',\r\n  'Arapey',\r\n  'Arbutus',\r\n  'Arbutus Slab',\r\n  'Architects Daughter',\r\n  'Archivo',\r\n  'Archivo Black',\r\n  'Archivo Narrow',\r\n  'Aref Ruqaa',\r\n  'Arima Madurai',\r\n  'Arimo',\r\n  'Arizonia',\r\n  'Armata',\r\n  'Arsenal',\r\n  'Artifika',\r\n  'Arvo',\r\n  'Arya',\r\n  'Asap',\r\n  'Asap Condensed',\r\n  'Asar',\r\n  'Asset',\r\n  'Assistant',\r\n  'Astloch',\r\n  'Asul',\r\n  'Athiti',\r\n  'Atma',\r\n  'Atomic Age',\r\n  'Aubrey',\r\n  'Audiowide',\r\n  'Autour One',\r\n  'Average',\r\n  'Average Sans',\r\n  'Averia Gruesa Libre',\r\n  'Averia Libre',\r\n  'Averia Sans Libre',\r\n  'Averia Serif Libre',\r\n  'B612',\r\n  'B612 Mono',\r\n  'Bad Script',\r\n  'Bahiana',\r\n  'Bahianita',\r\n  'Bai Jamjuree',\r\n  'Ballet',\r\n  'Baloo 2',\r\n  'Baloo Bhai 2',\r\n  'Baloo Bhaina 2',\r\n  'Baloo Chettan 2',\r\n  'Baloo Da 2',\r\n  'Baloo Paaji 2',\r\n  'Baloo Tamma 2',\r\n  'Baloo Tammudu 2',\r\n  'Baloo Thambi 2',\r\n  'Balsamiq Sans',\r\n  'Balthazar',\r\n  'Bangers',\r\n  'Barlow',\r\n  'Barlow Condensed',\r\n  'Barlow Semi Condensed',\r\n  'Barriecito',\r\n  'Barrio',\r\n  'Basic',\r\n  'Baskervville',\r\n  'Battambang',\r\n  'Baumans',\r\n  'Bayon',\r\n  'Be Vietnam',\r\n  'Bebas Neue',\r\n  'Belgrano',\r\n  'Bellefair',\r\n  'Belleza',\r\n  'Bellota',\r\n  'Bellota Text',\r\n  'BenchNine',\r\n  'Benne',\r\n  'Bentham',\r\n  'Berkshire Swash',\r\n  'Beth Ellen',\r\n  'Bevan',\r\n  'Big Shoulders Display',\r\n  'Big Shoulders Inline Display',\r\n  'Big Shoulders Inline Text',\r\n  'Big Shoulders Stencil Display',\r\n  'Big Shoulders Stencil Text',\r\n  'Big Shoulders Text',\r\n  'Bigelow Rules',\r\n  'Bigshot One',\r\n  'Bilbo',\r\n  'Bilbo Swash Caps',\r\n  'BioRhyme',\r\n  'BioRhyme Expanded',\r\n  'Biryani',\r\n  'Bitter',\r\n  'Black And White Picture',\r\n  'Black Han Sans',\r\n  'Black Ops One',\r\n  'Blinker',\r\n  'Bodoni Moda',\r\n  'Bokor',\r\n  'Bonbon',\r\n  'Boogaloo',\r\n  'Bowlby One',\r\n  'Bowlby One SC',\r\n  'Brawler',\r\n  'Bree Serif',\r\n  'Brygada 1918',\r\n  'Bubblegum Sans',\r\n  'Bubbler One',\r\n  'Buda',\r\n  'Buenard',\r\n  'Bungee',\r\n  'Bungee Hairline',\r\n  'Bungee Inline',\r\n  'Bungee Outline',\r\n  'Bungee Shade',\r\n  'Butcherman',\r\n  'Butterfly Kids',\r\n  'Cabin',\r\n  'Cabin Condensed',\r\n  'Cabin Sketch',\r\n  'Caesar Dressing',\r\n  'Cagliostro',\r\n  'Cairo',\r\n  'Caladea',\r\n  'Calistoga',\r\n  'Calligraffitti',\r\n  'Cambay',\r\n  'Cambo',\r\n  'Candal',\r\n  'Cantarell',\r\n  'Cantata One',\r\n  'Cantora One',\r\n  'Capriola',\r\n  'Cardo',\r\n  'Carme',\r\n  'Carrois Gothic',\r\n  'Carrois Gothic SC',\r\n  'Carter One',\r\n  'Castoro',\r\n  'Catamaran',\r\n  'Caudex',\r\n  'Caveat',\r\n  'Caveat Brush',\r\n  'Cedarville Cursive',\r\n  'Ceviche One',\r\n  'Chakra Petch',\r\n  'Changa',\r\n  'Changa One',\r\n  'Chango',\r\n  'Charm',\r\n  'Charmonman',\r\n  'Chathura',\r\n  'Chau Philomene One',\r\n  'Chela One',\r\n  'Chelsea Market',\r\n  'Chenla',\r\n  'Cherry Cream Soda',\r\n  'Cherry Swash',\r\n  'Chewy',\r\n  'Chicle',\r\n  'Chilanka',\r\n  'Chivo',\r\n  'Chonburi',\r\n  'Cinzel',\r\n  'Cinzel Decorative',\r\n  'Clicker Script',\r\n  'Coda',\r\n  'Coda Caption',\r\n  'Codystar',\r\n  'Coiny',\r\n  'Combo',\r\n  'Comfortaa',\r\n  'Comic Neue',\r\n  'Coming Soon',\r\n  'Commissioner',\r\n  'Concert One',\r\n  'Condiment',\r\n  'Content',\r\n  'Contrail One',\r\n  'Convergence',\r\n  'Cookie',\r\n  'Copse',\r\n  'Corben',\r\n  'Cormorant',\r\n  'Cormorant Garamond',\r\n  'Cormorant Infant',\r\n  'Cormorant SC',\r\n  'Cormorant Unicase',\r\n  'Cormorant Upright',\r\n  'Courgette',\r\n  'Courier Prime',\r\n  'Cousine',\r\n  'Coustard',\r\n  'Covered By Your Grace',\r\n  'Crafty Girls',\r\n  'Creepster',\r\n  'Crete Round',\r\n  'Crimson Pro',\r\n  'Crimson Text',\r\n  'Croissant One',\r\n  'Crushed',\r\n  'Cuprum',\r\n  'Cute Font',\r\n  'Cutive',\r\n  'Cutive Mono',\r\n  'DM Mono',\r\n  'DM Sans',\r\n  'DM Serif Display',\r\n  'DM Serif Text',\r\n  'Damion',\r\n  'Dancing Script',\r\n  'Dangrek',\r\n  'Darker Grotesque',\r\n  'David Libre',\r\n  'Dawning of a New Day',\r\n  'Days One',\r\n  'Dekko',\r\n  'Dela Gothic One',\r\n  'Delius',\r\n  'Delius Swash Caps',\r\n  'Delius Unicase',\r\n  'Della Respira',\r\n  'Denk One',\r\n  'Devonshire',\r\n  'Dhurjati',\r\n  'Didact Gothic',\r\n  'Diplomata',\r\n  'Diplomata SC',\r\n  'Do Hyeon',\r\n  'Dokdo',\r\n  'Domine',\r\n  'Donegal One',\r\n  'Doppio One',\r\n  'Dorsa',\r\n  'Dosis',\r\n  'DotGothic16',\r\n  'Dr Sugiyama',\r\n  'Duru Sans',\r\n  'Dynalight',\r\n  'EB Garamond',\r\n  'Eagle Lake',\r\n  'East Sea Dokdo',\r\n  'Eater',\r\n  'Economica',\r\n  'Eczar',\r\n  'El Messiri',\r\n  'Electrolize',\r\n  'Elsie',\r\n  'Elsie Swash Caps',\r\n  'Emblema One',\r\n  'Emilys Candy',\r\n  'Encode Sans',\r\n  'Encode Sans Condensed',\r\n  'Encode Sans Expanded',\r\n  'Encode Sans Semi Condensed',\r\n  'Encode Sans Semi Expanded',\r\n  'Engagement',\r\n  'Englebert',\r\n  'Enriqueta',\r\n  'Epilogue',\r\n  'Erica One',\r\n  'Esteban',\r\n  'Euphoria Script',\r\n  'Ewert',\r\n  'Exo',\r\n  'Exo 2',\r\n  'Expletus Sans',\r\n  'Fahkwang',\r\n  'Fanwood Text',\r\n  'Farro',\r\n  'Farsan',\r\n  'Fascinate',\r\n  'Fascinate Inline',\r\n  'Faster One',\r\n  'Fasthand',\r\n  'Fauna One',\r\n  'Faustina',\r\n  'Federant',\r\n  'Federo',\r\n  'Felipa',\r\n  'Fenix',\r\n  'Finger Paint',\r\n  'Fira Code',\r\n  'Fira Mono',\r\n  'Fira Sans',\r\n  'Fira Sans Condensed',\r\n  'Fira Sans Extra Condensed',\r\n  'Fjalla One',\r\n  'Fjord One',\r\n  'Flamenco',\r\n  'Flavors',\r\n  'Fondamento',\r\n  'Fontdiner Swanky',\r\n  'Forum',\r\n  'Francois One',\r\n  'Frank Ruhl Libre',\r\n  'Fraunces',\r\n  'Freckle Face',\r\n  'Fredericka the Great',\r\n  'Fredoka One',\r\n  'Freehand',\r\n  'Fresca',\r\n  'Frijole',\r\n  'Fruktur',\r\n  'Fugaz One',\r\n  'GFS Didot',\r\n  'GFS Neohellenic',\r\n  'Gabriela',\r\n  'Gaegu',\r\n  'Gafata',\r\n  'Galada',\r\n  'Galdeano',\r\n  'Galindo',\r\n  'Gamja Flower',\r\n  'Gayathri',\r\n  'Gelasio',\r\n  'Gentium Basic',\r\n  'Gentium Book Basic',\r\n  'Geo',\r\n  'Geostar',\r\n  'Geostar Fill',\r\n  'Germania One',\r\n  'Gidugu',\r\n  'Gilda Display',\r\n  'Girassol',\r\n  'Give You Glory',\r\n  'Glass Antiqua',\r\n  'Glegoo',\r\n  'Gloria Hallelujah',\r\n  'Goblin One',\r\n  'Gochi Hand',\r\n  'Goldman',\r\n  'Gorditas',\r\n  'Gothic A1',\r\n  'Gotu',\r\n  'Goudy Bookletter 1911',\r\n  'Graduate',\r\n  'Grand Hotel',\r\n  'Grandstander',\r\n  'Gravitas One',\r\n  'Great Vibes',\r\n  'Grenze',\r\n  'Grenze Gotisch',\r\n  'Griffy',\r\n  'Gruppo',\r\n  'Gudea',\r\n  'Gugi',\r\n  'Gupter',\r\n  'Gurajada',\r\n  'Habibi',\r\n  'Hachi Maru Pop',\r\n  'Halant',\r\n  'Hammersmith One',\r\n  'Hanalei',\r\n  'Hanalei Fill',\r\n  'Handlee',\r\n  'Hanuman',\r\n  'Happy Monkey',\r\n  'Harmattan',\r\n  'Headland One',\r\n  'Heebo',\r\n  'Henny Penny',\r\n  'Hepta Slab',\r\n  'Herr Von Muellerhoff',\r\n  'Hi Melody',\r\n  'Hind',\r\n  'Hind Guntur',\r\n  'Hind Madurai',\r\n  'Hind Siliguri',\r\n  'Hind Vadodara',\r\n  'Holtwood One SC',\r\n  'Homemade Apple',\r\n  'Homenaje',\r\n  'IBM Plex Mono',\r\n  'IBM Plex Sans',\r\n  'IBM Plex Sans Condensed',\r\n  'IBM Plex Serif',\r\n  'IM Fell DW Pica',\r\n  'IM Fell DW Pica SC',\r\n  'IM Fell Double Pica',\r\n  'IM Fell Double Pica SC',\r\n  'IM Fell English',\r\n  'IM Fell English SC',\r\n  'IM Fell French Canon',\r\n  'IM Fell French Canon SC',\r\n  'IM Fell Great Primer',\r\n  'IM Fell Great Primer SC',\r\n  'Ibarra Real Nova',\r\n  'Iceberg',\r\n  'Iceland',\r\n  'Imbue',\r\n  'Imprima',\r\n  'Inconsolata',\r\n  'Inder',\r\n  'Indie Flower',\r\n  'Inika',\r\n  'Inknut Antiqua',\r\n  'Inria Sans',\r\n  'Inria Serif',\r\n  'Inter',\r\n  'Irish Grover',\r\n  'Istok Web',\r\n  'Italiana',\r\n  'Italianno',\r\n  'Itim',\r\n  'Jacques Francois',\r\n  'Jacques Francois Shadow',\r\n  'Jaldi',\r\n  'JetBrains Mono',\r\n  'Jim Nightshade',\r\n  'Jockey One',\r\n  'Jolly Lodger',\r\n  'Jomhuria',\r\n  'Jomolhari',\r\n  'Josefin Sans',\r\n  'Josefin Slab',\r\n  'Jost',\r\n  'Joti One',\r\n  'Jua',\r\n  'Judson',\r\n  'Julee',\r\n  'Julius Sans One',\r\n  'Junge',\r\n  'Jura',\r\n  'Just Another Hand',\r\n  'Just Me Again Down Here',\r\n  'K2D',\r\n  'Kadwa',\r\n  'Kalam',\r\n  'Kameron',\r\n  'Kanit',\r\n  'Kantumruy',\r\n  'Karla',\r\n  'Karma',\r\n  'Katibeh',\r\n  'Kaushan Script',\r\n  'Kavivanar',\r\n  'Kavoon',\r\n  'Kdam Thmor',\r\n  'Keania One',\r\n  'Kelly Slab',\r\n  'Kenia',\r\n  'Khand',\r\n  'Khmer',\r\n  'Khula',\r\n  'Kirang Haerang',\r\n  'Kite One',\r\n  'Kiwi Maru',\r\n  'Knewave',\r\n  'KoHo',\r\n  'Kodchasan',\r\n  'Kosugi',\r\n  'Kosugi Maru',\r\n  'Kotta One',\r\n  'Koulen',\r\n  'Kranky',\r\n  'Kreon',\r\n  'Kristi',\r\n  'Krona One',\r\n  'Krub',\r\n  'Kufam',\r\n  'Kulim Park',\r\n  'Kumar One',\r\n  'Kumar One Outline',\r\n  'Kumbh Sans',\r\n  'Kurale',\r\n  'La Belle Aurore',\r\n  'Lacquer',\r\n  'Laila',\r\n  'Lakki Reddy',\r\n  'Lalezar',\r\n  'Lancelot',\r\n  'Langar',\r\n  'Lateef',\r\n  'Lato',\r\n  'League Script',\r\n  'Leckerli One',\r\n  'Ledger',\r\n  'Lekton',\r\n  'Lemon',\r\n  'Lemonada',\r\n  'Lexend',\r\n  'Lexend Deca',\r\n  'Lexend Exa',\r\n  'Lexend Giga',\r\n  'Lexend Mega',\r\n  'Lexend Peta',\r\n  'Lexend Tera',\r\n  'Lexend Zetta',\r\n  'Libre Barcode 128',\r\n  'Libre Barcode 128 Text',\r\n  'Libre Barcode 39',\r\n  'Libre Barcode 39 Extended',\r\n  'Libre Barcode 39 Extended Text',\r\n  'Libre Barcode 39 Text',\r\n  'Libre Barcode EAN13 Text',\r\n  'Libre Baskerville',\r\n  'Libre Caslon Display',\r\n  'Libre Caslon Text',\r\n  'Libre Franklin',\r\n  'Life Savers',\r\n  'Lilita One',\r\n  'Lily Script One',\r\n  'Limelight',\r\n  'Linden Hill',\r\n  'Literata',\r\n  'Liu Jian Mao Cao',\r\n  'Livvic',\r\n  'Lobster',\r\n  'Lobster Two',\r\n  'Londrina Outline',\r\n  'Londrina Shadow',\r\n  'Londrina Sketch',\r\n  'Londrina Solid',\r\n  'Long Cang',\r\n  'Lora',\r\n  'Love Ya Like A Sister',\r\n  'Loved by the King',\r\n  'Lovers Quarrel',\r\n  'Luckiest Guy',\r\n  'Lusitana',\r\n  'Lustria',\r\n  'M PLUS 1p',\r\n  'M PLUS Rounded 1c',\r\n  'Ma Shan Zheng',\r\n  'Macondo',\r\n  'Macondo Swash Caps',\r\n  'Mada',\r\n  'Magra',\r\n  'Maiden Orange',\r\n  'Maitree',\r\n  'Major Mono Display',\r\n  'Mako',\r\n  'Mali',\r\n  'Mallanna',\r\n  'Mandali',\r\n  'Manjari',\r\n  'Manrope',\r\n  'Mansalva',\r\n  'Manuale',\r\n  'Marcellus',\r\n  'Marcellus SC',\r\n  'Marck Script',\r\n  'Margarine',\r\n  'Markazi Text',\r\n  'Marko One',\r\n  'Marmelad',\r\n  'Martel',\r\n  'Martel Sans',\r\n  'Marvel',\r\n  'Mate',\r\n  'Mate SC',\r\n  'Maven Pro',\r\n  'McLaren',\r\n  'Meddon',\r\n  'MedievalSharp',\r\n  'Medula One',\r\n  'Meera Inimai',\r\n  'Megrim',\r\n  'Meie Script',\r\n  'Merienda',\r\n  'Merienda One',\r\n  'Merriweather',\r\n  'Merriweather Sans',\r\n  'Metal',\r\n  'Metal Mania',\r\n  'Metamorphous',\r\n  'Metrophobic',\r\n  'Michroma',\r\n  'Milonga',\r\n  'Miltonian',\r\n  'Miltonian Tattoo',\r\n  'Mina',\r\n  'Miniver',\r\n  'Miriam Libre',\r\n  'Mirza',\r\n  'Miss Fajardose',\r\n  'Mitr',\r\n  'Modak',\r\n  'Modern Antiqua',\r\n  'Mogra',\r\n  'Molengo',\r\n  'Molle',\r\n  'Monda',\r\n  'Monofett',\r\n  'Monoton',\r\n  'Monsieur La Doulaise',\r\n  'Montaga',\r\n  'Montez',\r\n  'Montserrat',\r\n  'Montserrat Alternates',\r\n  'Montserrat Subrayada',\r\n  'Moul',\r\n  'Moulpali',\r\n  'Mountains of Christmas',\r\n  'Mouse Memoirs',\r\n  'Mr Bedfort',\r\n  'Mr Dafoe',\r\n  'Mr De Haviland',\r\n  'Mrs Saint Delafield',\r\n  'Mrs Sheppards',\r\n  'Mukta',\r\n  'Mukta Mahee',\r\n  'Mukta Malar',\r\n  'Mukta Vaani',\r\n  'Mulish',\r\n  'MuseoModerno',\r\n  'Mystery Quest',\r\n  'NTR',\r\n  'Nanum Brush Script',\r\n  'Nanum Gothic',\r\n  'Nanum Gothic Coding',\r\n  'Nanum Myeongjo',\r\n  'Nanum Pen Script',\r\n  'Nerko One',\r\n  'Neucha',\r\n  'Neuton',\r\n  'New Rocker',\r\n  'New Tegomin',\r\n  'News Cycle',\r\n  'Newsreader',\r\n  'Niconne',\r\n  'Niramit',\r\n  'Nixie One',\r\n  'Nobile',\r\n  'Nokora',\r\n  'Norican',\r\n  'Nosifer',\r\n  'Notable',\r\n  'Nothing You Could Do',\r\n  'Noticia Text',\r\n  'Noto Sans',\r\n  'Noto Sans HK',\r\n  'Noto Sans JP',\r\n  'Noto Sans KR',\r\n  'Noto Sans SC',\r\n  'Noto Sans TC',\r\n  'Noto Serif',\r\n  'Noto Serif JP',\r\n  'Noto Serif KR',\r\n  'Noto Serif SC',\r\n  'Noto Serif TC',\r\n  'Nova Cut',\r\n  'Nova Flat',\r\n  'Nova Mono',\r\n  'Nova Oval',\r\n  'Nova Round',\r\n  'Nova Script',\r\n  'Nova Slim',\r\n  'Nova Square',\r\n  'Numans',\r\n  'Nunito',\r\n  'Nunito Sans',\r\n  'Odibee Sans',\r\n  'Odor Mean Chey',\r\n  'Offside',\r\n  'Oi',\r\n  'Old Standard TT',\r\n  'Oldenburg',\r\n  'Oleo Script',\r\n  'Oleo Script Swash Caps',\r\n  'Open Sans',\r\n  'Open Sans Condensed',\r\n  'Oranienbaum',\r\n  'Orbitron',\r\n  'Oregano',\r\n  'Orienta',\r\n  'Original Surfer',\r\n  'Oswald',\r\n  'Over the Rainbow',\r\n  'Overlock',\r\n  'Overlock SC',\r\n  'Overpass',\r\n  'Overpass Mono',\r\n  'Ovo',\r\n  'Oxanium',\r\n  'Oxygen',\r\n  'Oxygen Mono',\r\n  'PT Mono',\r\n  'PT Sans',\r\n  'PT Sans Caption',\r\n  'PT Sans Narrow',\r\n  'PT Serif',\r\n  'PT Serif Caption',\r\n  'Pacifico',\r\n  'Padauk',\r\n  'Palanquin',\r\n  'Palanquin Dark',\r\n  'Pangolin',\r\n  'Paprika',\r\n  'Parisienne',\r\n  'Passero One',\r\n  'Passion One',\r\n  'Pathway Gothic One',\r\n  'Patrick Hand',\r\n  'Patrick Hand SC',\r\n  'Pattaya',\r\n  'Patua One',\r\n  'Pavanam',\r\n  'Paytone One',\r\n  'Peddana',\r\n  'Peralta',\r\n  'Permanent Marker',\r\n  'Petit Formal Script',\r\n  'Petrona',\r\n  'Philosopher',\r\n  'Piazzolla',\r\n  'Piedra',\r\n  'Pinyon Script',\r\n  'Pirata One',\r\n  'Plaster',\r\n  'Play',\r\n  'Playball',\r\n  'Playfair Display',\r\n  'Playfair Display SC',\r\n  'Podkova',\r\n  'Poiret One',\r\n  'Poller One',\r\n  'Poly',\r\n  'Pompiere',\r\n  'Pontano Sans',\r\n  'Poor Story',\r\n  'Poppins',\r\n  'Port Lligat Sans',\r\n  'Port Lligat Slab',\r\n  'Potta One',\r\n  'Pragati Narrow',\r\n  'Prata',\r\n  'Preahvihear',\r\n  'Press Start 2P',\r\n  'Pridi',\r\n  'Princess Sofia',\r\n  'Prociono',\r\n  'Prompt',\r\n  'Prosto One',\r\n  'Proza Libre',\r\n  'Public Sans',\r\n  'Puritan',\r\n  'Purple Purse',\r\n  'Quando',\r\n  'Quantico',\r\n  'Quattrocento',\r\n  'Quattrocento Sans',\r\n  'Questrial',\r\n  'Quicksand',\r\n  'Quintessential',\r\n  'Qwigley',\r\n  'Racing Sans One',\r\n  'Radley',\r\n  'Rajdhani',\r\n  'Rakkas',\r\n  'Raleway',\r\n  'Raleway Dots',\r\n  'Ramabhadra',\r\n  'Ramaraja',\r\n  'Rambla',\r\n  'Rammetto One',\r\n  'Ranchers',\r\n  'Rancho',\r\n  'Ranga',\r\n  'Rasa',\r\n  'Rationale',\r\n  'Ravi Prakash',\r\n  'Recursive',\r\n  'Red Hat Display',\r\n  'Red Hat Text',\r\n  'Red Rose',\r\n  'Redressed',\r\n  'Reem Kufi',\r\n  'Reenie Beanie',\r\n  'Reggae One',\r\n  'Revalia',\r\n  'Rhodium Libre',\r\n  'Ribeye',\r\n  'Ribeye Marrow',\r\n  'Righteous',\r\n  'Risque',\r\n  'Roboto',\r\n  'Roboto Condensed',\r\n  'Roboto Mono',\r\n  'Roboto Slab',\r\n  'Rochester',\r\n  'Rock Salt',\r\n  'RocknRoll One',\r\n  'Rokkitt',\r\n  'Romanesco',\r\n  'Ropa Sans',\r\n  'Rosario',\r\n  'Rosarivo',\r\n  'Rouge Script',\r\n  'Rowdies',\r\n  'Rozha One',\r\n  'Rubik',\r\n  'Rubik Mono One',\r\n  'Ruda',\r\n  'Rufina',\r\n  'Ruge Boogie',\r\n  'Ruluko',\r\n  'Rum Raisin',\r\n  'Ruslan Display',\r\n  'Russo One',\r\n  'Ruthie',\r\n  'Rye',\r\n  'Sacramento',\r\n  'Sahitya',\r\n  'Sail',\r\n  'Saira',\r\n  'Saira Condensed',\r\n  'Saira Extra Condensed',\r\n  'Saira Semi Condensed',\r\n  'Saira Stencil One',\r\n  'Salsa',\r\n  'Sanchez',\r\n  'Sancreek',\r\n  'Sansita',\r\n  'Sansita Swashed',\r\n  'Sarabun',\r\n  'Sarala',\r\n  'Sarina',\r\n  'Sarpanch',\r\n  'Satisfy',\r\n  'Sawarabi Gothic',\r\n  'Sawarabi Mincho',\r\n  'Scada',\r\n  'Scheherazade',\r\n  'Schoolbell',\r\n  'Scope One',\r\n  'Seaweed Script',\r\n  'Secular One',\r\n  'Sedgwick Ave',\r\n  'Sedgwick Ave Display',\r\n  'Sen',\r\n  'Sevillana',\r\n  'Seymour One',\r\n  'Shadows Into Light',\r\n  'Shadows Into Light Two',\r\n  'Shanti',\r\n  'Share',\r\n  'Share Tech',\r\n  'Share Tech Mono',\r\n  'Shippori Mincho',\r\n  'Shippori Mincho B1',\r\n  'Shojumaru',\r\n  'Short Stack',\r\n  'Shrikhand',\r\n  'Siemreap',\r\n  'Sigmar One',\r\n  'Signika',\r\n  'Signika Negative',\r\n  'Simonetta',\r\n  'Single Day',\r\n  'Sintony',\r\n  'Sirin Stencil',\r\n  'Six Caps',\r\n  'Skranji',\r\n  'Slabo 13px',\r\n  'Slabo 27px',\r\n  'Slackey',\r\n  'Smokum',\r\n  'Smythe',\r\n  'Sniglet',\r\n  'Snippet',\r\n  'Snowburst One',\r\n  'Sofadi One',\r\n  'Sofia',\r\n  'Solway',\r\n  'Song Myung',\r\n  'Sonsie One',\r\n  'Sora',\r\n  'Sorts Mill Goudy',\r\n  'Source Code Pro',\r\n  'Source Sans Pro',\r\n  'Source Serif Pro',\r\n  'Space Grotesk',\r\n  'Space Mono',\r\n  'Spartan',\r\n  'Special Elite',\r\n  'Spectral',\r\n  'Spectral SC',\r\n  'Spicy Rice',\r\n  'Spinnaker',\r\n  'Spirax',\r\n  'Squada One',\r\n  'Sree Krushnadevaraya',\r\n  'Sriracha',\r\n  'Srisakdi',\r\n  'Staatliches',\r\n  'Stalemate',\r\n  'Stalinist One',\r\n  'Stardos Stencil',\r\n  'Stick',\r\n  'Stint Ultra Condensed',\r\n  'Stint Ultra Expanded',\r\n  'Stoke',\r\n  'Strait',\r\n  'Stylish',\r\n  'Sue Ellen Francisco',\r\n  'Suez One',\r\n  'Sulphur Point',\r\n  'Sumana',\r\n  'Sunflower',\r\n  'Sunshiney',\r\n  'Supermercado One',\r\n  'Sura',\r\n  'Suranna',\r\n  'Suravaram',\r\n  'Suwannaphum',\r\n  'Swanky and Moo Moo',\r\n  'Syncopate',\r\n  'Syne',\r\n  'Syne Mono',\r\n  'Syne Tactile',\r\n  'Tajawal',\r\n  'Tangerine',\r\n  'Taprom',\r\n  'Tauri',\r\n  'Taviraj',\r\n  'Teko',\r\n  'Telex',\r\n  'Tenali Ramakrishna',\r\n  'Tenor Sans',\r\n  'Text Me One',\r\n  'Texturina',\r\n  'Thasadith',\r\n  'The Girl Next Door',\r\n  'Tienne',\r\n  'Tillana',\r\n  'Timmana',\r\n  'Tinos',\r\n  'Titan One',\r\n  'Titillium Web',\r\n  'Tomorrow',\r\n  'Trade Winds',\r\n  'Train One',\r\n  'Trirong',\r\n  'Trispace',\r\n  'Trocchi',\r\n  'Trochut',\r\n  'Truculenta',\r\n  'Trykker',\r\n  'Tulpen One',\r\n  'Turret Road',\r\n  'Ubuntu',\r\n  'Ubuntu Condensed',\r\n  'Ubuntu Mono',\r\n  'Ultra',\r\n  'Uncial Antiqua',\r\n  'Underdog',\r\n  'Unica One',\r\n  'UnifrakturCook',\r\n  'UnifrakturMaguntia',\r\n  'Unkempt',\r\n  'Unlock',\r\n  'Unna',\r\n  'VT323',\r\n  'Vampiro One',\r\n  'Varela',\r\n  'Varela Round',\r\n  'Varta',\r\n  'Vast Shadow',\r\n  'Vesper Libre',\r\n  'Viaoda Libre',\r\n  'Vibes',\r\n  'Vibur',\r\n  'Vidaloka',\r\n  'Viga',\r\n  'Voces',\r\n  'Volkhov',\r\n  'Vollkorn',\r\n  'Vollkorn SC',\r\n  'Voltaire',\r\n  'Waiting for the Sunrise',\r\n  'Wallpoet',\r\n  'Walter Turncoat',\r\n  'Warnes',\r\n  'Wellfleet',\r\n  'Wendy One',\r\n  'Wire One',\r\n  'Work Sans',\r\n  'Xanh Mono',\r\n  'Yanone Kaffeesatz',\r\n  'Yantramanav',\r\n  'Yatra One',\r\n  'Yellowtail',\r\n  'Yeon Sung',\r\n  'Yeseva One',\r\n  'Yesteryear',\r\n  'Yrsa',\r\n  'Yusei Magic',\r\n  'ZCOOL KuaiLe',\r\n  'ZCOOL QingKe HuangYou',\r\n  'ZCOOL XiaoWei',\r\n  'Zeyada',\r\n  'Zhi Mang Xing',\r\n  'Zilla Slab',\r\n  'Zilla Slab Highlight'\r\n];\r\n\r\nexport default fonts;","import React, { useState } from 'react';\r\nimport styles from './FontsDropdown.module.css';\r\nimport search from '../../../../assets/search.svg';\r\nimport fonts from './fontsData';\r\n\r\nconst FontsDropdown = ({ setIsDropDown, dispatch }) => {\r\n  const [input, setInput] = useState('');\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      dispatch({ type: 'setFontFamily', data: e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n\r\n  const options = fonts\r\n    .filter((font) => {\r\n      return font.toLowerCase().includes(input.toLowerCase());\r\n    })\r\n    .map((font) => {\r\n      return (\r\n        <li className={styles.FontOption} key={font}>\r\n          {font}\r\n        </li>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div className={styles.FontsDropdown}>\r\n      <div className={styles.SearchContainer}>\r\n        <img className={styles.SearchSvg} src={search} alt='search' />\r\n        <input\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          className={styles.SearchInput}\r\n          placeholder='Search'\r\n          type='text'\r\n        />\r\n      </div>\r\n      <ul className={styles.FontOptionsContainer} onClick={optionsClickHandler}>\r\n        {options}\r\n      </ul>\r\n      <div className={styles.UploadFontContainer}>\r\n        <button className={styles.UploadFontButton}>Upload font</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FontsDropdown;\r\n","import React from 'react';\r\nimport styles from './FontSizeDropdown.module.css';\r\n\r\nconst FontSizeDropdown = ({setIsDropDown, dispatch}) => {\r\n\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      dispatch({ type: 'setFontSize', data: e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.FontSizeDropdown} onClick={optionsClickHandler}>\r\n      <li className={styles.FontSizeOption}>14</li>\r\n      <li className={styles.FontSizeOption}>24</li>\r\n      <li className={styles.FontSizeOption}>30</li>\r\n      <li className={styles.FontSizeOption}>36</li>\r\n      <li className={styles.FontSizeOption}>48</li>\r\n      <li className={styles.FontSizeOption}>60</li>\r\n      <li className={styles.FontSizeOption}>72</li>\r\n      <li className={styles.FontSizeOption}>96</li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FontSizeDropdown;\r\n","import React from 'react';\r\nimport styles from './TextAlignDropdown.module.css';\r\nimport textLeft from '../../../../assets/textLeft.svg';\r\nimport textRight from '../../../../assets/textRight.svg';\r\nimport textCenter from '../../../../assets/textCenter.svg';\r\nimport textJustify from '../../../../assets/textJustify.svg';\r\n\r\nconst TextAlignDropdown = ({ setIsDropDown, dispatch, current }) => {\r\n  const optionsClickHandler = (e) => {\r\n    let data = null;\r\n    if (e.target.tagName === 'LI') data = e.target.childNodes[0].alt;\r\n    else if (e.target.tagName === 'P') data = e.target.textContent;\r\n    else if (e.target.tagName === 'IMG') data = e.target.alt;\r\n    if (data) {\r\n      dispatch({ type: 'setTextAlign', data: data.toLowerCase() });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.TextAlignDropdown} onClick={optionsClickHandler}>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'left' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textLeft} alt='left' />\r\n        <p className={styles.TextAlignText}>Left</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'center' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textCenter} alt='center' />\r\n        <p className={styles.TextAlignText}>Center</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'right' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img className={styles.TextAlignImage} src={textRight} alt='right' />\r\n        <p className={styles.TextAlignText}>Right</p>\r\n      </li>\r\n      <li\r\n        className={[\r\n          styles.TextAlignOption,\r\n          current === 'justify' ? styles.Current : null,\r\n        ].join(' ')}\r\n      >\r\n        <img\r\n          className={styles.TextAlignImage}\r\n          src={textJustify}\r\n          alt='justify'\r\n        />\r\n        <p className={styles.TextAlignText}>Justify</p>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TextAlignDropdown;\r\n","import React, { useState, useEffect } from 'react';\r\nimport FontsDropdown from './FontsDropdown/FontsDropdown';\r\nimport FontSizeDropdown from './FontSizeDropdown/FontSizeDropdown';\r\nimport TextAlignDropdown from './TextAlignDropdown/TextAlignDropdown';\r\nimport { SketchPicker } from 'react-color';\r\nimport styles from './TextDropdowns.module.css';\r\n\r\nconst TextDropdowns = ({\r\n  state,\r\n  dispatch,\r\n  coords,\r\n  isFontFamilyDropdown,\r\n  isFontSizeDropdown,\r\n  isColorDropdown,\r\n  isTextAlignDropDown,\r\n  setIsFontFamilyDropdown,\r\n  setIsFontSizeDropdown,\r\n  colorChangeCompleteHandler,\r\n  setIsTextAlignDropDown,\r\n  setColor,\r\n  color,\r\n  colorPickerRef,\r\n}) => {\r\n  const [dropDownStyle, setDropdownStyle] = useState({ top: 41 });\r\n  const maxDropdownHeight = 301;\r\n  const DropdownOffset = 41;\r\n  const DropdownPadding = 20;\r\n\r\n  useEffect(() => {\r\n    if (\r\n      coords &&\r\n      coords.coordY + maxDropdownHeight + DropdownOffset + DropdownPadding >\r\n        state.canvasHeight\r\n    ) {\r\n      setDropdownStyle({ bottom: 41 });\r\n    }\r\n  }, [state.canvasHeight, coords]);\r\n\r\n  return (\r\n    <>\r\n      {isFontFamilyDropdown ? (\r\n        <div className={styles.FontsDropdown} style={dropDownStyle}>\r\n          <FontsDropdown\r\n            setIsDropDown={setIsFontFamilyDropdown}\r\n            dispatch={dispatch}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isFontSizeDropdown ? (\r\n        <div className={styles.FontSizeDropdown} style={dropDownStyle}>\r\n          <FontSizeDropdown\r\n            setIsDropDown={setIsFontSizeDropdown}\r\n            dispatch={dispatch}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isColorDropdown ? (\r\n        <div className={styles.SketchPickerContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={color}\r\n            onChange={(c) => setColor(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              colorChangeCompleteHandler(c, colorPickerRef, dispatch)\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {isTextAlignDropDown ? (\r\n        <div className={styles.TextAlignDropdown} style={dropDownStyle}>\r\n          <TextAlignDropdown\r\n            setIsDropDown={setIsTextAlignDropDown}\r\n            dispatch={dispatch}\r\n            current={state.textState.textAlign}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextDropdowns;\r\n","export const colorChangeCompleteHandler = (c, ref, dispatch) => {\r\n  let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n  dispatch({ type: 'setTextFill', data: colorString });\r\n  ref.current.style.background = colorString;\r\n};\r\n\r\nexport const handleClick = (e, dropdownHandlers, styleHandlers) => {\r\n  if (e.currentTarget.id === 'bold' || e.currentTarget.id === 'italic') {\r\n    styleHandlers[e.currentTarget.id]();\r\n  }\r\n  for (let [id, handler] of Object.entries(dropdownHandlers)) {\r\n    if (id === e.currentTarget.id) handler((prevState) => !prevState);\r\n    else handler(false);\r\n  }\r\n};\r\n\r\nexport const fontSizeChangeHandler = (e, setFontSizeInput, dispatch) => {\r\n  setFontSizeInput(e.target.value);\r\n  let data = +e.target.value;\r\n  if (data <= 0) data = 1;\r\n  else if (data > 1080) data = 1080;\r\n  dispatch({ type: 'setFontSize', data });\r\n};\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './TextToolbar.module.css';\r\nimport downArrow from '../../../assets/downArrow.svg';\r\nimport bold from '../../../assets/bold.svg';\r\nimport italic from '../../../assets/italic.svg';\r\nimport textLeft from '../../../assets/textLeft.svg';\r\nimport textRight from '../../../assets/textRight.svg';\r\nimport textCenter from '../../../assets/textCenter.svg';\r\nimport textJustify from '../../../assets/textJustify.svg';\r\nimport TextDropdowns from '../TextDropdowns/TextDropdowns';\r\nimport AppContext from '../../../contexts/AppContext';\r\nimport {\r\n  handleClick,\r\n  fontSizeChangeHandler,\r\n  colorChangeCompleteHandler,\r\n} from './utils/handlers';\r\n\r\nconst TextToolbar = ({ coords }) => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n  const [fontSizeInput, setFontSizeInput] = useState(\r\n    appState.textState.fontSize\r\n  );\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [isFontFamilyDropdown, setIsFontFamilyDropdown] = useState(false);\r\n  const [isFontSizeDropdown, setIsFontSizeDropdown] = useState(false);\r\n  const [isColorDropdown, setIsColorDropdown] = useState(false);\r\n  const [isTextAlignDropDown, setIsTextAlignDropDown] = useState(false);\r\n  const [color, setColor] = useState({\r\n    r: 0,\r\n    g: 0,\r\n    b: 0,\r\n    a: 1,\r\n  });\r\n  const colorPickerRef = useRef(null);\r\n\r\n  // Active styles\r\n  const boldStlyes = [styles.FontWeightBoldContainer];\r\n  const italicStyles = [styles.FontStyleItalicContainer];\r\n  const isBold = appState.textState.fontWeight === 'Bold';\r\n  const isItalic = appState.textState.fontStyle === 'Italic';\r\n  if (isBold) boldStlyes.push(styles.Active);\r\n  if (isItalic) italicStyles.push(styles.Active);\r\n\r\n  // Text Align SVG\r\n  let textAlignSrc = textLeft;\r\n  if (appState.textState.textAlign === 'center') {\r\n    textAlignSrc = textCenter;\r\n  } else if (appState.textState.textAlign === 'right') {\r\n    textAlignSrc = textRight;\r\n  } else if (appState.textState.textAlign === 'justify') {\r\n    textAlignSrc = textJustify;\r\n  }\r\n\r\n  const boldHandler = () => {\r\n    let weight = 'Bold';\r\n    if (isBold) weight = 'Normal';\r\n    appDispatch({ type: 'setFontWeight', data: weight });\r\n  };\r\n\r\n  const italicHandler = () => {\r\n    let style = 'Italic';\r\n    if (isItalic) style = 'Normal';\r\n    appDispatch({ type: 'setFontStyle', data: style });\r\n  };\r\n\r\n  const dropdownHandlers = {\r\n    fontFamily: setIsFontFamilyDropdown,\r\n    fontSizeArrow: setIsFontSizeDropdown,\r\n    colorPicker: setIsColorDropdown,\r\n    textAlign: setIsTextAlignDropDown,\r\n  };\r\n\r\n  const styleHandlers = {\r\n    bold: boldHandler,\r\n    italic: italicHandler,\r\n  };\r\n\r\n  const clickHandler = (e) => handleClick(e, dropdownHandlers, styleHandlers);\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      setIsFirstLoad(false);\r\n      const [r, g, b, a] = appState.textState.fill\r\n        .split('(')[1]\r\n        .split(')')[0]\r\n        .split(',');\r\n      setColor({ r, g, b, a });\r\n      colorPickerRef.current.style.background = appState.textState.fill;\r\n    }\r\n  }, [appState.textState.fill, isFirstLoad]);\r\n\r\n  return (\r\n    <div className={styles.TextToolbar}>\r\n      <div\r\n        className={styles.FontsContainer}\r\n        id='fontFamily'\r\n        onClick={clickHandler}\r\n      >\r\n        <p>{appState.textState.fontFamily}</p>\r\n        <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.FontSizeContainer}>\r\n        <div className={styles.FontSizeInputContainer}>\r\n          <input\r\n            className={styles.FontSizeInput}\r\n            type='number'\r\n            value={fontSizeInput}\r\n            onChange={(e) =>\r\n              fontSizeChangeHandler(e, setFontSizeInput, appDispatch)\r\n            }\r\n          />\r\n        </div>\r\n        <div\r\n          className={styles.FontSizeArrowContainer}\r\n          id='fontSizeArrow'\r\n          onClick={clickHandler}\r\n        >\r\n          <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n        </div>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div\r\n        className={styles.ColorPickerContainer}\r\n        id='colorPicker'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={colorPickerRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div className={boldStlyes.join(' ')} id='bold' onClick={clickHandler}>\r\n        <img className={styles.Bold} src={bold} alt='bold' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div\r\n        className={italicStyles.join(' ')}\r\n        id='italic'\r\n        onClick={clickHandler}\r\n      >\r\n        <img className={styles.Italic} src={italic} alt='italic' />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div\r\n        className={styles.TextAlignContainer}\r\n        id='textAlign'\r\n        onClick={clickHandler}\r\n      >\r\n        <img className={styles.TextAlign} src={textAlignSrc} alt='textAlign' />\r\n      </div>\r\n      <TextDropdowns\r\n        state={appState}\r\n        dispatch={appDispatch}\r\n        coords={coords}\r\n        isFontFamilyDropdown={isFontFamilyDropdown}\r\n        isFontSizeDropdown={isFontSizeDropdown}\r\n        isColorDropdown={isColorDropdown}\r\n        isTextAlignDropDown={isTextAlignDropDown}\r\n        setIsFontFamilyDropdown={setIsFontFamilyDropdown}\r\n        setIsFontSizeDropdown={setIsFontSizeDropdown}\r\n        colorChangeCompleteHandler={colorChangeCompleteHandler}\r\n        setIsTextAlignDropDown={setIsTextAlignDropDown}\r\n        setColor={setColor}\r\n        color={color}\r\n        colorPickerRef={colorPickerRef}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextToolbar;\r\n","import React from 'react';\r\nimport styles from './StrokeWidthDropdown.module.css';\r\n\r\nconst StrokeWidthDropdown = ({ setIsDropDown, dispatch, isLine }) => {\r\n  const optionsClickHandler = (e) => {\r\n    if (e.target.tagName === 'LI') {\r\n      console.log(e.target.textContent);\r\n      dispatch({ type: 'setShapeStrokeWidth', data: +e.target.textContent });\r\n      dispatch({ type: 'setShowToolbar', data: false });\r\n      setIsDropDown(false);\r\n    }\r\n  };\r\n  let list = null;\r\n  if (isLine) {\r\n    list = (\r\n      <ul className={styles.LineDropdown} onClick={optionsClickHandler}>\r\n        <li className={styles.StrokeOption}>1</li>\r\n        <li className={styles.StrokeOption}>5</li>\r\n        <li className={styles.StrokeOption}>10</li>\r\n        <li className={styles.StrokeOption}>15</li>\r\n        <li className={styles.StrokeOption}>20</li>\r\n        <li className={styles.StrokeOption}>25</li>\r\n        <li className={styles.StrokeOption}>30</li>\r\n        <li className={styles.StrokeOption}>35</li>\r\n        <li className={styles.StrokeOption}>40</li>\r\n        <li className={styles.StrokeOption}>45</li>\r\n        <li className={styles.StrokeOption}>50</li>\r\n      </ul>\r\n    );\r\n  } else {\r\n    list = (\r\n      <ul className={styles.ShapeDropdown} onClick={optionsClickHandler}>\r\n        <li className={styles.StrokeOption}>0</li>\r\n        <li className={styles.StrokeOption}>4</li>\r\n        <li className={styles.StrokeOption}>8</li>\r\n        <li className={styles.StrokeOption}>12</li>\r\n        <li className={styles.StrokeOption}>24</li>\r\n        <li className={styles.StrokeOption}>48</li>\r\n        <li className={styles.StrokeOption}>96</li>\r\n        <li className={styles.StrokeOption}>120</li>\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  return list;\r\n};\r\n\r\nexport default StrokeWidthDropdown;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { SketchPicker } from 'react-color';\r\nimport styles from './ShapeDropdowns.module.css';\r\nimport StrokeWidthDropdown from './StrokeWidthDropdown/StrokeWidthDropdown';\r\n\r\nconst ShapeDropdowns = ({\r\n  state,\r\n  dispatch,\r\n  coords,\r\n  shapeToolbar,\r\n  isStrokeWidthDropdown,\r\n  isFillDropdown,\r\n  isStrokeDropdown,\r\n  fill,\r\n  setFill,\r\n  fillChangeCompleteHandler,\r\n  fillRef,\r\n  stroke,\r\n  setStroke,\r\n  strokeChangeCompleteHandler,\r\n  strokeRef,\r\n  setIsStrokeWidthDropdown,\r\n  isLine,\r\n}) => {\r\n  const [dropDownStyle, setDropdownStyle] = useState({ top: 41 });\r\n  const [strokeWidthDropDownStyle, setStrokeWidthDropDownStyle] = useState({\r\n    top: 41,\r\n  });\r\n  const maxDropdownHeight = 301;\r\n  const maxDropdownWidth = 220;\r\n  const DropdownOffset = 41;\r\n  const DropdownPadding = 20;\r\n\r\n  const handleDropdownPosition = useCallback(\r\n    (coords, shapeToolbar, canvasHeight) => {\r\n      let toolbarWidth = shapeToolbar.offsetWidth;\r\n      let style = {};\r\n      if (\r\n        coords.coordY + maxDropdownHeight + DropdownOffset + DropdownPadding >\r\n        canvasHeight\r\n      ) {\r\n        style.bottom = 41;\r\n        setStrokeWidthDropDownStyle({ bottom: 41 });\r\n      }\r\n\r\n      if (coords.coordX + toolbarWidth - maxDropdownWidth < 0) {\r\n        style.left = 0;\r\n        if (!style.bottom) style.top = 41;\r\n      }\r\n      if (Object.keys(style).length !== 0) setDropdownStyle(style);\r\n    },\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (coords) {\r\n      handleDropdownPosition(coords, shapeToolbar, state.canvasHeight);\r\n    }\r\n  }, [handleDropdownPosition, shapeToolbar, state.canvasHeight, coords]);\r\n\r\n  return (\r\n    <>\r\n      {isFillDropdown ? (\r\n        <div className={styles.FillDropdownContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={fill}\r\n            onChange={(c) => setFill(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              fillChangeCompleteHandler(c, dispatch, fillRef)\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isStrokeDropdown ? (\r\n        <div className={styles.StrokeDropdownContainer} style={dropDownStyle}>\r\n          <SketchPicker\r\n            color={stroke}\r\n            onChange={(c) => setStroke(c.rgb)}\r\n            onChangeComplete={(c) =>\r\n              strokeChangeCompleteHandler(c, dispatch, strokeRef)\r\n            }\r\n          />\r\n        </div>\r\n      ) : null}\r\n\r\n      {isStrokeWidthDropdown ? (\r\n        <div\r\n          className={styles.StrokeWidthDropdownContainer}\r\n          style={strokeWidthDropDownStyle}\r\n        >\r\n          <StrokeWidthDropdown\r\n            setIsDropDown={setIsStrokeWidthDropdown}\r\n            isLine={isLine}\r\n            dispatch={dispatch}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShapeDropdowns;\r\n","export const initialLoadHandler = (\r\n  isLine,\r\n  shapeState,\r\n  setIsFirstLoad,\r\n  setFill,\r\n  fillRef,\r\n  strokeContainerRef,\r\n  setStroke,\r\n  strokeRef\r\n) => {\r\n  setIsFirstLoad(false);\r\n  if (!isLine) {\r\n    let [r, g, b, a] = shapeState.fill.split('(')[1].split(')')[0].split(',');\r\n    setFill({ r, g, b, a });\r\n    fillRef.current.style.background = shapeState.fill;\r\n  } else {\r\n    strokeContainerRef.current.style.borderTopLeftRadius = '15px';\r\n    strokeContainerRef.current.style.borderBottomLeftRadius = '15px';\r\n  }\r\n  let [r, g, b, a] = shapeState.stroke.split('(')[1].split(')')[0].split(',');\r\n  setStroke({ r, g, b, a });\r\n  strokeRef.current.style.background = shapeState.stroke;\r\n};\r\n\r\nexport const fillChangeCompleteHandler = (c, dispatch, fillRef) => {\r\n  let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n  dispatch({ type: 'setShapeFill', data: colorString });\r\n  fillRef.current.style.background = colorString;\r\n};\r\n\r\nexport const strokeChangeCompleteHandler = (c, dispatch, strokeRef) => {\r\n  let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n  dispatch({ type: 'setShapeStroke', data: colorString });\r\n  strokeRef.current.style.background = colorString;\r\n};\r\n\r\nexport const strokeWidthChangeHandler = (\r\n  e,\r\n  dispatch,\r\n  setStrokeWidthInput,\r\n  isLine\r\n) => {\r\n  console.log(e.target.value);\r\n  setStrokeWidthInput(e.target.value);\r\n  let data = +e.target.value;\r\n  if (isLine && data <= 0) data = 1;\r\n  else if (isLine && data > 50) data = 50;\r\n  else if (!isLine && data > 120) data = 120;\r\n  else if (!isLine && data < 0) data = 0;\r\n  dispatch({ type: 'setShapeStrokeWidth', data });\r\n};\r\n\r\nexport const handleClick = (\r\n  e,\r\n  setIsFillDropdown,\r\n  setIsStrokeDropdown,\r\n  setIsStrokeWidthDropdown\r\n) => {\r\n  let clicked = e.currentTarget.id;\r\n  if (clicked === 'fill') {\r\n    setIsFillDropdown((prevState) => !prevState);\r\n    setIsStrokeDropdown(false);\r\n    setIsStrokeWidthDropdown(false);\r\n  } else if (clicked === 'stroke') {\r\n    setIsStrokeDropdown((prevState) => !prevState);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeWidthDropdown(false);\r\n  } else {\r\n    setIsStrokeWidthDropdown((prevState) => !prevState);\r\n    setIsFillDropdown(false);\r\n    setIsStrokeDropdown(false);\r\n  }\r\n};\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './ShapeToolbar.module.css';\r\nimport downArrow from '../../../assets/downArrow.svg';\r\nimport AppContext from '../../../contexts/AppContext';\r\nimport ShapeDropdowns from '../ShapeDropdowns/ShapeDropdowns';\r\nimport {\r\n  initialLoadHandler,\r\n  handleClick,\r\n  fillChangeCompleteHandler,\r\n  strokeChangeCompleteHandler,\r\n  strokeWidthChangeHandler,\r\n} from './utils/handlers';\r\n\r\nconst ShapeToolbar = ({ coords }) => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [fill, setFill] = useState('rgba(196,196,196,1)');\r\n  const [stroke, setStroke] = useState('rgba(255,255,255,1)');\r\n  const [isFillDropdown, setIsFillDropdown] = useState(false);\r\n  const [isStrokeDropdown, setIsStrokeDropdown] = useState(false);\r\n  const [isStrokeWidthDropdown, setIsStrokeWidthDropdown] = useState(false);\r\n  const [strokeWidthInput, setStrokeWidthInput] = useState(\r\n    appState.shapeState.strokeWidth\r\n  );\r\n  const shapeToolbarRef = useRef(null);\r\n  const fillRef = useRef(null);\r\n  const strokeRef = useRef(null);\r\n  const strokeContainerRef = useRef(null);\r\n  const isLine = appState.currentObject.type === 'line';\r\n\r\n  const clickHandler = (e) =>\r\n    handleClick(\r\n      e,\r\n      setIsFillDropdown,\r\n      setIsStrokeDropdown,\r\n      setIsStrokeWidthDropdown\r\n    );\r\n\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      initialLoadHandler(\r\n        isLine,\r\n        appState.shapeState,\r\n        setIsFirstLoad,\r\n        setFill,\r\n        fillRef,\r\n        strokeContainerRef,\r\n        setStroke,\r\n        strokeRef\r\n      );\r\n    }\r\n  }, [isLine, appState.shapeState, isFirstLoad]);\r\n\r\n  return (\r\n    <div ref={shapeToolbarRef} className={styles.ShapeToolbar}>\r\n      {!isLine ? (\r\n        <>\r\n          <div\r\n            className={styles.FillContainer}\r\n            id='fill'\r\n            onClick={clickHandler}\r\n          >\r\n            <div className={styles.ColorPickerBorder}>\r\n              <div ref={fillRef} className={styles.ColorPicker}></div>\r\n            </div>\r\n            <p>Fill</p>\r\n          </div>\r\n          <div className={styles.BorderDiv}></div>\r\n        </>\r\n      ) : null}\r\n\r\n      <div\r\n        ref={strokeContainerRef}\r\n        className={styles.StrokeContainer}\r\n        id='stroke'\r\n        onClick={clickHandler}\r\n      >\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={strokeRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n        <p>Stroke</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.StrokeWidthContainer}>\r\n        <div className={styles.StrokeWidthInputContainer}>\r\n          <input\r\n            className={styles.StrokeWidthInput}\r\n            type='number'\r\n            value={strokeWidthInput}\r\n            onChange={(e) =>\r\n              strokeWidthChangeHandler(\r\n                e,\r\n                appDispatch,\r\n                setStrokeWidthInput,\r\n                isLine\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n        <div\r\n          className={styles.StrokeWidthArrowContainer}\r\n          id='strokeWidth'\r\n          onClick={clickHandler}\r\n        >\r\n          <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n        </div>\r\n      </div>\r\n\r\n      <ShapeDropdowns\r\n        state={appState}\r\n        dispatch={appDispatch}\r\n        coords={coords}\r\n        shapeToolbar={shapeToolbarRef.current}\r\n        isStrokeWidthDropdown={isStrokeWidthDropdown}\r\n        setIsStrokeWidthDropdown={setIsStrokeWidthDropdown}\r\n        isStrokeDropdown={isStrokeDropdown}\r\n        isFillDropdown={isFillDropdown}\r\n        fill={fill}\r\n        setFill={setFill}\r\n        fillChangeCompleteHandler={fillChangeCompleteHandler}\r\n        fillRef={fillRef}\r\n        stroke={stroke}\r\n        setStroke={setStroke}\r\n        strokeChangeCompleteHandler={strokeChangeCompleteHandler}\r\n        strokeRef={strokeRef}\r\n        isLine={isLine}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShapeToolbar;\r\n","export default __webpack_public_path__ + \"static/media/replaceImage.24b71204.svg\";","export default __webpack_public_path__ + \"static/media/cornerRadius.701d1dee.svg\";","export default __webpack_public_path__ + \"static/media/cropImage.06a8d86d.svg\";","import React, { useState, useContext } from 'react';\r\nimport styles from './ImageToolbar.module.css';\r\nimport AppContext from '../../../contexts/AppContext';\r\nimport replaceImage from '../../../assets/replaceImage.svg';\r\nimport cornerRadius from '../../../assets/cornerRadius.svg';\r\nimport cropImage from '../../../assets/cropImage.svg';\r\n\r\nconst ImageToolbar = () => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n  const [radiusInput, setRadiusInput] = useState(\r\n    appState.imageState.cornerRadius\r\n  );\r\n\r\n  const clickHandler = (e) => {\r\n    if (e.currentTarget.id === 'replace') {\r\n      appDispatch({ type: 'setShouldReplaceImage', data: true });\r\n    } else if (e.currentTarget.id === 'crop') {\r\n      // appDispatch({ type: 'setIsCroppingImage', data: true });\r\n    }\r\n  };\r\n\r\n  const radiusChangeHandler = (e) => {\r\n    setRadiusInput(e.target.value);\r\n    let val = +e.target.value;\r\n    if (val < 0) val = 0;\r\n    if (val > 100) val = 100;\r\n    appDispatch({ type: 'setImageCornerRadius', data: val });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.ImageToolbar}>\r\n      <div\r\n        className={styles.ReaplaceContainer}\r\n        id='replace'\r\n        onClick={clickHandler}\r\n      >\r\n        <img src={replaceImage} alt='replace' />\r\n        <p>Replace</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div\r\n        className={styles.RadiusContainer}\r\n        id='radius'\r\n        onClick={clickHandler}\r\n      >\r\n        <img src={cornerRadius} alt='radius' />\r\n        <input\r\n          className={styles.RadiusInput}\r\n          type='number'\r\n          value={radiusInput}\r\n          onChange={radiusChangeHandler}\r\n        />\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div className={styles.CropContainer} id='crop' onClick={clickHandler}>\r\n        <img src={cropImage} alt='replace' />\r\n        <p>Crop</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageToolbar;\r\n","import React, {\r\n  useContext,\r\n  useRef,\r\n  useEffect,\r\n  useCallback,\r\n  useState,\r\n} from 'react';\r\nimport AppContext from '../../contexts/AppContext';\r\nimport styles from './Toolbar.module.css';\r\nimport { calcPosition } from './utils/toolbarPosition';\r\nimport TextToolbar from './TextToolbar/TextToolbar';\r\nimport ShapeToolbar from './ShapeToolbar/ShapeToolbar';\r\nimport ImageToolbar from './ImageToolbar/ImageToolbar';\r\n\r\nconst Toolbar = () => {\r\n  const [coords, setCoords] = useState(null);\r\n  const { appState } = useContext(AppContext);\r\n  const toolbarRef = useRef(null);\r\n  const toolbarOffset = 28;\r\n  const toolbarPadding = 10;\r\n  const shapeArr = ['rect', 'circle', 'triangle', 'line'];\r\n  const setTransform = useCallback((c) => {\r\n    toolbarRef.current.style.transform = `translate(${c.coordX}px, ${c.coordY}px)`;\r\n    toolbarRef.current.style.opacity = 1;\r\n    setCoords(c);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (appState.currentCoords) {\r\n      setTransform(\r\n        calcPosition(\r\n          appState.currentCoords,\r\n          appState.canvasState.width,\r\n          appState.canvasState.height,\r\n          toolbarRef.current,\r\n          toolbarOffset,\r\n          toolbarPadding\r\n        )\r\n      );\r\n    }\r\n  }, [\r\n    setTransform,\r\n    appState.currentCoords,\r\n    appState.canvasState.width,\r\n    appState.canvasState.height,\r\n  ]);\r\n\r\n  return (\r\n    <div ref={toolbarRef} className={styles.Toolbar}>\r\n      {appState.currentObject.type === 'text' ? (\r\n        <TextToolbar coords={coords} />\r\n      ) : null}\r\n      {shapeArr.includes(appState.currentObject.type) ? (\r\n        <ShapeToolbar coords={coords} />\r\n      ) : null}\r\n      {appState.currentObject.type === 'image' ? <ImageToolbar /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","export const calcPosition = (\r\n  currentCoords,\r\n  canvasWidth,\r\n  canvasHeight,\r\n  toolbar,\r\n  toolbarOffset,\r\n  toolbarPadding\r\n) => {\r\n  console.log(currentCoords);\r\n  let toolbarWidth = toolbar.offsetWidth;\r\n  let toolbarHeight = toolbar.offsetHeight;\r\n\r\n  let isBottomCloser = currentCoords.tl.y > currentCoords.bl.y;\r\n  let offset = isBottomCloser ? toolbarOffset + toolbarHeight : toolbarOffset;\r\n\r\n  // Coord Y\r\n  let coordY =\r\n    Math.min(\r\n      currentCoords.tl.y,\r\n      currentCoords.tr.y,\r\n      currentCoords.br.y,\r\n      currentCoords.bl.y\r\n    ) -\r\n    toolbarHeight -\r\n    offset;\r\n  if (coordY - toolbarPadding < 0) {\r\n    let tempCoordY =\r\n      Math.max(\r\n        currentCoords.tl.y,\r\n        currentCoords.tr.y,\r\n        currentCoords.br.y,\r\n        currentCoords.bl.y\r\n      ) +\r\n      toolbarOffset +\r\n      (!isBottomCloser ? toolbarHeight : 0);\r\n    if (tempCoordY + toolbarPadding + toolbarHeight < canvasHeight)\r\n      coordY = tempCoordY;\r\n    else coordY = canvasHeight - toolbarHeight - toolbarOffset;\r\n  }\r\n\r\n  // Coord X\r\n  let coordX = Math.min(\r\n    currentCoords.tl.x,\r\n    currentCoords.tr.x,\r\n    currentCoords.br.x,\r\n    currentCoords.bl.x\r\n  );\r\n  if (coordX + toolbarWidth > canvasWidth) coordX = canvasWidth - toolbarWidth;\r\n  else if (coordX < 0) coordX = 0;\r\n  return { coordX, coordY };\r\n};\r\n","import { useEffect, useCallback } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst useCropImage = (state, dispatch, canvas) => {\r\n  const cropStartHandler = useCallback(() => {\r\n    canvas.getObjects().forEach((el) => {\r\n      el.selectable = false;\r\n    });\r\n\r\n    let activeEl = canvas.getActiveObject();\r\n    let el = new fabric.Rect({\r\n      fill: 'rgba(0,0,0,0)',\r\n      originX: 'left',\r\n      originY: 'top',\r\n      left: activeEl.left,\r\n      top: activeEl.top,\r\n      // borderDashArray: [1, 1],\r\n      borderColor: '#dbff17',\r\n      angle: activeEl.angle,\r\n      width: activeEl.width * activeEl.scaleX,\r\n      height: activeEl.height * activeEl.scaleY,\r\n      selectable: true,\r\n      lockScalingFlip: true,\r\n    });\r\n    el.controls.mtr.visible = false;\r\n    canvas.add(el);\r\n    canvas.setActiveObject(el);\r\n    let angle = ((360 - activeEl.angle) * Math.PI) / 180;\r\n    console.log(angle);\r\n    console.log('bounds', activeEl.lineCoords);\r\n    el.on('moving', (e) => {\r\n      console.log('obj', el.lineCoords);\r\n      let objectHeight = el.height * el.scaleY;\r\n      let objectWidth = el.width * el.scaleX;\r\n      let boundHeight = activeEl.height * activeEl.scaleY;\r\n      let boundWidth = activeEl.width * activeEl.scaleX;\r\n      \r\n      // let top = el.top;\r\n      // let left = el.left;\r\n      // let bottom = el.top + objectHeight;\r\n      // let right = el.left + objectWidth;\r\n      let left = Math.abs(el.left * Math.cos(angle) + el.top * Math.sin(angle));\r\n      let top = Math.abs(el.top * Math.cos(angle) - el.left * Math.sin(angle));\r\n      let right = Math.abs(\r\n        (left + objectWidth) * Math.cos(angle) +\r\n          (top + objectHeight) * Math.sin(angle)\r\n      );\r\n      let bottom = Math.abs(\r\n        (top + objectHeight) * Math.cos(angle) -\r\n          (left + objectWidth) * Math.sin(angle)\r\n      );\r\n\r\n      // let rightBound = leftBound + boundWidth;\r\n      // let bottomBound = topBound + boundHeight;\r\n      let topBound = Math.abs(\r\n        activeEl.top * Math.cos(angle) + activeEl.left * Math.sin(angle)\r\n      );\r\n      let leftBound = Math.abs(\r\n        activeEl.left * Math.cos(angle) - activeEl.top * Math.sin(angle)\r\n      );\r\n      let rightBound = Math.abs(\r\n        (leftBound + boundWidth) * Math.cos(angle) +\r\n          (topBound + boundHeight) * Math.sin(angle)\r\n      );\r\n      let bottomBound = Math.abs(\r\n        (topBound + boundHeight) * Math.cos(angle) -\r\n          (leftBound + boundWidth) * Math.sin(angle)\r\n      );\r\n      console.log('top: ', top);\r\n      console.log('left: ', left);\r\n      console.log('right: ', right);\r\n      console.log('bottom: ', bottom);\r\n      console.log('topBound: ', topBound);\r\n      console.log('leftBound: ', leftBound);\r\n      console.log('rightBound: ', rightBound);\r\n      console.log('bottomBound: ', bottomBound);\r\n      //left\r\n      if (left < leftBound) el.left = leftBound;\r\n      //top\r\n      if (top < topBound) el.top = topBound;\r\n      //right\r\n      if (right > rightBound) el.left = rightBound - objectWidth;\r\n      //bottom\r\n      if (bottom > bottomBound) el.top = bottomBound - objectHeight;\r\n\r\n      // let elCoords = el.lineCoords;\r\n      // let boundCoords = activeEl.lineCoords;\r\n    });\r\n\r\n    el.on('scaling', (e) => {\r\n      // let objectHeight = el.height * el.scaleY;\r\n      // let objectWidth = el.width * el.scaleX;\r\n      // let boundHeight = activeEl.height * activeEl.scaleY;\r\n      // let boundWidth = activeEl.width * activeEl.scaleX;\r\n      // let top = el.top;\r\n      // let bottom = top + objectHeight;\r\n      // let left = el.left;\r\n      // let right = left + objectWidth;\r\n      // let topBound = activeEl.top;\r\n      // let bottomBound = topBound + boundHeight;\r\n      // let leftBound = activeEl.left;\r\n      // let rightBound = leftBound + boundWidth;\r\n      // el.left = Math.min(Math.max(left, leftBound), rightBound - objectWidth);\r\n      // el.top = Math.min(Math.max(top, topBound), bottomBound - objectHeight);\r\n      // if (el.scaleX > 1) {\r\n      //   el.scaleX = 1;\r\n      //   if (left < leftBound || right > rightBound) el.left = leftBound;\r\n      // }\r\n      // if (el.scaleY > 1) {\r\n      //   el.scaleY = 1;\r\n      //   if (top < topBound || bottom > bottomBound) el.top = topBound;\r\n      // }\r\n      //   let angle = (activeEl.getAngle() * Math.PI) / 180;\r\n      //   let aspectRatio = activeEl.width / activeEl.height;\r\n      //   let boundWidth = activeEl.width * activeEl.scaleX;\r\n      //   let boundHeight = activeEl.height * activeEl.scaleY;\r\n      //   if (boundWidth > bounds.width) {\r\n      //     boundWidth = bounds.width;\r\n      //     var targetWidth =\r\n      //       (aspectRatio * boundWidth) /\r\n      //       (aspectRatio * Math.abs(Math.cos(angle)) + Math.abs(Math.sin(angle)));\r\n      //     activeEl.setScaleX(targetWidth / activeEl.width);\r\n      //     activeEl.setScaleY(targetWidth / activeEl.width);\r\n      //     boundHeight = getBoundHeight(activeEl);\r\n      //   }\r\n      //   if (boundHeight > bounds.height) {\r\n      //     boundHeight = bounds.height;\r\n      //     var targetHeight =\r\n      //       boundHeight /\r\n      //       (aspectRatio * Math.abs(Math.sin(angle)) + Math.abs(Math.cos(angle)));\r\n      //     activeEl.setScaleX(targetHeight / activeEl.height);\r\n      //     activeEl.setScaleY(targetHeight / activeEl.height);\r\n      //     boundWidth = getBoundWidth(activeEl);\r\n      //   }\r\n      //   //Check constraints\r\n      //   if (activeEl.getLeft() < bounds.x + boundWidth / 2)\r\n      //     activeEl.setLeft(bounds.x + boundWidth / 2);\r\n      //   if (activeEl.getLeft() > bounds.x + bounds.width - boundWidth / 2)\r\n      //     activeEl.setLeft(bounds.x + bounds.width - boundWidth / 2);\r\n      //   if (activeEl.getTop() < bounds.y + boundHeight / 2)\r\n      //     activeEl.setTop(bounds.y + boundHeight / 2);\r\n      //   if (activeEl.getTop() > bounds.y + bounds.height - boundHeight / 2)\r\n      //     activeEl.setTop(bounds.y + bounds.height - boundHeight / 2);\r\n    });\r\n\r\n    // dispatch({type: 'setIsCroppingImage', data: false});\r\n  }, [canvas]);\r\n\r\n  useEffect(() => {\r\n    if (state.isCroppingImage) {\r\n      cropStartHandler();\r\n    }\r\n  }, [cropStartHandler, state, dispatch, canvas]);\r\n};\r\n\r\nexport default useCropImage;\r\n","export default __webpack_public_path__ + \"static/media/backgroundImage.707f3786.svg\";","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport styles from './CanvasToolbar.module.css';\r\nimport AppContext from '../../contexts/AppContext';\r\nimport { SketchPicker } from 'react-color';\r\nimport backgroundImage from '../../assets/backgroundImage.svg';\r\n\r\nconst CanvasToolbar = () => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n  const [color, setColor] = useState(appState.canvasState.backgroundColor);\r\n  const [isColorDropdown, setIsColorDropdown] = useState(false);\r\n  const canvasToolbarRef = useRef(null);\r\n  const backgroundColorRef = useRef(null);\r\n  const isLine = appState.currentObject.type === 'line';\r\n  const colorChangeCompleteHandler = (c) => {\r\n    let colorString = `rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`;\r\n    backgroundColorRef.current.style.background = colorString;\r\n    appDispatch({ type: 'setCanvasBackgroundColor', data: colorString });\r\n  };\r\n  const clickHandler = (e) => {\r\n    if (e.currentTarget.id === 'color') {\r\n      setIsColorDropdown((prevState) => !prevState);\r\n    } else if (e.currentTarget.id === 'image') {\r\n      setIsColorDropdown(false);\r\n      appDispatch({ type: 'setShouldAddCanvasBgImage', data: true });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    backgroundColorRef.current.style.background = color;\r\n    canvasToolbarRef.current.style.opacity = 1;\r\n  }, [color, isLine, appState.shapeState]);\r\n\r\n  return (\r\n    <div ref={canvasToolbarRef} className={styles.CanvasToolbar}>\r\n      <div className={styles.ColorContainer} id='color' onClick={clickHandler}>\r\n        <div className={styles.ColorPickerBorder}>\r\n          <div ref={backgroundColorRef} className={styles.ColorPicker}></div>\r\n        </div>\r\n        <p>Background</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n\r\n      <div className={styles.ImageContainer} id='image' onClick={clickHandler}>\r\n        <img\r\n          className={styles.BackgroundImage}\r\n          src={backgroundImage}\r\n          alt='backgroundImage'\r\n        />\r\n        <p>Background Image</p>\r\n      </div>\r\n      {isColorDropdown ? (\r\n        <div className={styles.ColorDropdownContainer}>\r\n          <SketchPicker\r\n            color={color}\r\n            onChange={(c) => setColor(c.rgb)}\r\n            onChangeComplete={colorChangeCompleteHandler}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CanvasToolbar;\r\n","import React, { useState, useRef, useContext } from 'react';\r\nimport styles from './Canvas.module.css';\r\nimport AppContext from '../../contexts/AppContext';\r\nimport fabricConfig from './fabricConfig';\r\nimport useDeleteSelected from './canvasHooks/useDeleteSelected';\r\nimport useInitCanvas from './canvasHooks/useInitCanvas';\r\nimport useAddObject from './canvasHooks/useAddObject';\r\nimport useSelectionObserver from './canvasHooks/useSelectionObserver';\r\nimport useGuidelines from './canvasHooks/useGuideLines';\r\nimport useUpdateObject from './canvasHooks/useUpdateObject';\r\nimport Toolbar from '../Toolbar/Toolbar';\r\nimport useCropImage from './canvasHooks/useCropImage';\r\nimport CanvasToolbar from '../CanvasToolbar/CanvasToolbar';\r\n\r\nfabricConfig();\r\n\r\nconst Canvas = ({canvas, setCanvas}) => {\r\n  const { appState, appDispatch } = useContext(AppContext);\r\n  const [isCanvasSet, setIsCanvasSet] = useState(false);\r\n  const borderRef = useRef(null);\r\n  useInitCanvas(appState, setCanvas, setIsCanvasSet);\r\n  useGuidelines(appState, isCanvasSet, canvas);\r\n  useDeleteSelected(canvas);\r\n  useAddObject(appState, appDispatch, canvas);\r\n  useSelectionObserver(isCanvasSet, canvas, appState, appDispatch);\r\n  useUpdateObject(appState, appDispatch, canvas);\r\n  useCropImage(appState, appDispatch, canvas);\r\n\r\n  const canvasToolbarClickHandler = (e) => {\r\n    let data = false;\r\n    if (!appState.showCanvasToolbar) {\r\n      data = true;\r\n      canvas.discardActiveObject().requestRenderAll();\r\n    }\r\n    appDispatch({ type: 'setShowCanvasToolbar', data });\r\n  };\r\n\r\n  const canvasClickHadnler = () => {\r\n    if (appState.showCanvasToolbar) {\r\n      appDispatch({ type: 'setShowCanvasToolbar', data: false });\r\n    }\r\n  };\r\n\r\n  let borderStyles = [styles.CanvasBorder];\r\n  if (appState.showCanvasToolbar) borderStyles.push(styles.Opacity1);\r\n  let borderContainerSize = {\r\n    width: appState.canvasState.width + 14 + 'px',\r\n    height: appState.canvasState.height + 14 + 'px',\r\n  };\r\n  let borderSize = {\r\n    width: appState.canvasState.width + 4 + 'px',\r\n    height: appState.canvasState.height + 4 + 'px',\r\n  };\r\n  let canvasSize = {\r\n    width: appState.canvasState.width + 'px',\r\n    height: appState.canvasState.height + 'px',\r\n  };\r\n\r\n  return (\r\n    <div className={styles.CanvasComponent}>\r\n      <div\r\n        style={borderContainerSize}\r\n        className={styles.BorderContainer}\r\n        onClick={canvasToolbarClickHandler}\r\n      >\r\n        <div\r\n          ref={borderRef}\r\n          className={borderStyles.join(' ')}\r\n          style={borderSize}\r\n        ></div>\r\n      </div>\r\n\r\n      <div\r\n        style={canvasSize}\r\n        className={styles.CanvasContainer}\r\n        onClick={canvasClickHadnler}\r\n      >\r\n        <div style={canvasSize} className={styles.Canvas}>\r\n          <canvas id='canvas' />\r\n        </div>\r\n      </div>\r\n\r\n      {appState.showCanvasToolbar ? <CanvasToolbar /> : null}\r\n      {appState.showToolbar ? <Toolbar /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n","export default __webpack_public_path__ + \"static/media/currentPage.27f9240b.svg\";","export default __webpack_public_path__ + \"static/media/addPage.5891f5a1.svg\";","import React from 'react';\r\nimport styles from './ResizeDropdown.module.css';\r\n\r\nconst ResizeDropdown = () => {\r\n  return (\r\n    <div className={styles.Dropdown}>\r\n      <ul className={styles.SizeOptions}>\r\n        <li className={styles.SizeOption}>Slide 16:9</li>\r\n        <li className={styles.SizeOption}>A4</li>\r\n        <li className={styles.SizeOption}>Facebook post</li>\r\n        <li className={styles.SizeOption}>Linkedin cover</li>\r\n        <li className={styles.SizeOption}>Video thumbnail</li>\r\n        <li className={styles.CustomSizeOption}>\r\n          <p className={styles.CustomSizeText}>Custom size</p>\r\n          <div className={styles.InputsContainer}>\r\n            <input\r\n              className={styles.InputWidth}\r\n              type='number'\r\n              placeholder='Width'\r\n            />\r\n            <input\r\n              className={styles.InputHeight}\r\n              type='number'\r\n              placeholder='Height'\r\n            />\r\n            <p className={styles.PxText}>px</p>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResizeDropdown;\r\n","import React, { useState } from 'react';\r\nimport styles from './DesignToolbar.module.css';\r\nimport downArrow from '../../assets/downArrow.svg';\r\nimport currentPage from '../../assets/currentPage.svg';\r\nimport addPage from '../../assets/addPage.svg';\r\nimport ResizeDropdown from './ResizeDropdown/ResizeDropdown';\r\n\r\nconst DesignToolbar = ({setIsSideDrawer}) => {\r\n  const [isResizeDropdown, setIsResizeRopdown] = useState(false);\r\n\r\n  const clickHandler = (e) => {\r\n    let id = e.currentTarget.id;\r\n    if (id === 'resize') {\r\n      setIsResizeRopdown((prevState) => !prevState);\r\n    } else if (id === 'addPage') {\r\n      setIsSideDrawer(prevState => !prevState);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.DesignToolbar}>\r\n      <div className={styles.ZoomContainer}>\r\n        <div className={styles.ZoomInputContainer}>\r\n          <input className={styles.ZoomInput} type='number' />\r\n          <p className={styles.ZoomInputPercent}>%</p>\r\n        </div>\r\n\r\n        <div className={styles.ZoomInputArrowContainer} id='zoom'>\r\n          <img className={styles.DownArrow} src={downArrow} alt='arrow' />\r\n        </div>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div\r\n        className={styles.ResizeContainer}\r\n        id='resize'\r\n        onClick={clickHandler}\r\n      >\r\n        <p className={styles.Resize}>Resize</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.CurrentPageContainer} id='currentPage'>\r\n        <img\r\n          className={styles.CurrentPageImage}\r\n          src={currentPage}\r\n          alt='current page'\r\n        />\r\n        <p className={styles.CurrentPage}>1</p>\r\n      </div>\r\n      <div className={styles.BorderDiv}></div>\r\n      <div className={styles.AddPageContainer} id='addPage' onClick={clickHandler}>\r\n        <img className={styles.AddPage} src={addPage} alt='add page' />\r\n      </div>\r\n      {isResizeDropdown ? <ResizeDropdown /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DesignToolbar;\r\n","export default __webpack_public_path__ + \"static/media/close.bfbf8a4d.svg\";","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport styles from './SideDrawer.module.css';\r\nimport close from '../../assets/close.svg';\r\n\r\nconst SideDrawer = ({ isSideDrawer, setIsSideDrawer }) => {\r\n  const [canvasArr, setCanvasArr] = useState([]);\r\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\r\n  const [sideDrawerStyles, setSideDrawerStyles] = useState([styles.SideDrawer]);\r\n  const sideDrawerRef = useRef(null);\r\n\r\n  const createCanvas = useCallback((arr) => {\r\n    let canvas = (\r\n      <canvas className={styles.DesignPage} id={'canvas' + arr.length} />\r\n    );\r\n    // let ctx = canvas.getContext('2d');\r\n    setCanvasArr((prevState) => [...prevState, canvas]);\r\n    // setCtxArr((prevState) => [...prevState, ctx]);\r\n  }, []);\r\n\r\n  const closeHandler = () => {\r\n    setIsSideDrawer(false);\r\n  };\r\n  if (isSideDrawer) sideDrawerStyles.push(styles.Open);\r\n  useEffect(() => {\r\n    if (isFirstLoad) {\r\n      setIsFirstLoad(false);\r\n      createCanvas(canvasArr);\r\n    }\r\n  }, [isFirstLoad, createCanvas, canvasArr]);\r\n\r\n  useEffect(() => {\r\n    if (isSideDrawer) {\r\n      sideDrawerRef.current.classList.add(styles.Open);\r\n    } else {\r\n      sideDrawerRef.current.classList.remove(styles.Open);\r\n    }\r\n  }, [isSideDrawer]);\r\n\r\n  return (\r\n    <div className={styles.SideDrawer} ref={sideDrawerRef}>\r\n      <div className={styles.Header}>\r\n        <p className={styles.HeaderText}>Pages</p>\r\n        <div className={styles.CloseContainer} onClick={closeHandler}>\r\n          <img className={styles.Close} src={close} alt='close' />\r\n        </div>\r\n      </div>\r\n      <div className={styles.PagesContainer}>\r\n        {canvasArr.map((el) => {\r\n          return (\r\n            <div className={styles.PageContainer} key={el.props.id}>\r\n              <div className={styles.DesignPageContainer}>{el}</div>\r\n              <div className={styles.IndexContainer}>\r\n                <p className={styles.PageIndex}>{canvasArr.length}</p>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React, { useState } from 'react';\r\nimport styles from './DesignTool.module.css';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport DesignToolbar from '../DesignToolbar/DesignToolbar';\r\nimport SideDrawer from '../SideDrawer/SideDrawer';\r\n\r\nconst DesignTool = () => {\r\n  const [canvas, setCanvas] = useState(null);\r\n  const [isSideDrawer, setIsSideDrawer] = useState(false);\r\n\r\n  return (\r\n    <div className={styles.DesignTool}>\r\n      <Navigation canvas={canvas} />\r\n      <main className={styles.Main}>\r\n        <Canvas canvas={canvas} setCanvas={setCanvas} />\r\n        <SideDrawer\r\n          isSideDrawer={isSideDrawer}\r\n          setIsSideDrawer={setIsSideDrawer}\r\n        />\r\n        <DesignToolbar setIsSideDrawer={setIsSideDrawer} />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DesignTool;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialState = {\r\n  canvasState: {\r\n    width: 526,\r\n    height: 741,\r\n    backgroundColor: 'rgba(255,255,255,1)',\r\n    backgroundImage: 0,\r\n  },\r\n  shouldUpdateCanvas: false,\r\n  shouldUpdateCanvasSize: false,\r\n  shouldAddCanvasBgImage: false,\r\n  shapeToAdd: null,\r\n  imageToAdd: null,\r\n  currentCoords: null,\r\n  showCanvasToolbar: false,\r\n  showToolbar: false,\r\n  shapeState: {\r\n    fill: 'rgba(196,196,196,1)',\r\n    stroke: 'rgba(255,255,255,1)',\r\n    strokeWidth: 0,\r\n  },\r\n  imageState: {\r\n    cornerRadius: 0,\r\n  },\r\n  isCroppingImage: false,\r\n  isImageDropdown: false,\r\n  isShapeDropdown: false,\r\n  shouldAddText: false,\r\n  shouldUpdateText: false,\r\n  shouldUpdateShape: false,\r\n  shouldUpdateImage: false,\r\n  shouldReplaceImage: false,\r\n  currentObject: {\r\n    type: '',\r\n    object: null,\r\n  },\r\n  textState: {\r\n    fontFamily: 'Inter',\r\n    fontStyle: 'Normal',\r\n    fontWeight: 'Normal',\r\n    fontSize: 30,\r\n    fill: 'rgba(0,0,0,1)',\r\n    textAlign: 'left',\r\n  },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'setIsCroppingImage':\r\n      console.log('%c Setting Is Cropping Image', 'color: #ee4242');\r\n      return { ...state, isCroppingImage: action.data };\r\n    case 'setIsImageDropdown':\r\n      console.log('%c Setting Is Image Dropdown', 'color: #ee4242');\r\n      return { ...state, isImageDropdown: action.data };\r\n    case 'setIsShapeDropdown':\r\n      console.log('%c Setting Is Shape Dropdown', 'color: #ee4242');\r\n      return { ...state, isShapeDropdown: action.data };\r\n    case 'setCurrentCoords':\r\n      console.log('%c Setting Coordinates', 'color: #ee4242');\r\n      return { ...state, currentCoords: action.data };\r\n    case 'setShowToolbar':\r\n      console.log('%c Setting Toolbar Show', 'color: #ee4242');\r\n      return { ...state, showToolbar: action.data };\r\n    case 'setShowCanvasToolbar':\r\n      console.log('%c Setting Canvas Toolbar Show', 'color: #ee4242');\r\n      return { ...state, showCanvasToolbar: action.data };\r\n    case 'setShouldAddText':\r\n      console.log('%c Setting Should Add Text', 'color: #ee4242');\r\n      return { ...state, shouldAddText: action.data };\r\n    case 'setShouldUpdateText':\r\n      console.log('%c Setting Should Update Text', 'color: #ee4242');\r\n      return { ...state, shouldUpdateText: action.data };\r\n    case 'setShouldUpdateShape':\r\n      console.log('%c Setting Should Update Shape', 'color: #ee4242');\r\n      return { ...state, shouldUpdateShape: action.data };\r\n    case 'setShouldUpdateImage':\r\n      console.log('%c Setting Should Update Image', 'color: #ee4242');\r\n      return { ...state, shouldUpdateImage: action.data };\r\n    case 'setShouldUpdateCanvas':\r\n      console.log('%c Setting Should Update Canvas', 'color: #ee4242');\r\n      return { ...state, shouldUpdateCanvas: action.data };\r\n    case 'setShouldUpdateCanvasSize':\r\n      console.log('%c Setting Should Update Canvas Size', 'color: #ee4242');\r\n      return { ...state, shouldUpdateCanvasSize: action.data };\r\n    case 'setShouldAddCanvasBgImage':\r\n      console.log('%c Setting Should Set Canvas Background Image', 'color: #ee4242');\r\n      return { ...state, shouldAddCanvasBgImage: action.data };\r\n    case 'setCurrentObject':\r\n      console.log('%c Setting Current Object', 'color: #ee4242');\r\n      return { ...state, currentObject: action.data };\r\n    case 'setShapeToAdd':\r\n      console.log('%c Setting Shape To Add', 'color: #ee4242');\r\n      return { ...state, shapeToAdd: action.data, isShapeDropdown: false };\r\n    case 'setImageToAdd':\r\n      console.log('%c Setting Image To Add', 'color: #ee4242');\r\n      return { ...state, imageToAdd: action.data, isImageDropdown: false };\r\n    case 'setShapeState':\r\n      console.log('%c Setting Shape State', 'color: #ee4242');\r\n      return { ...state, shapeState: { ...action.data } };\r\n    case 'setImageState':\r\n      console.log('%c Setting Image State', 'color: #ee4242');\r\n      return { ...state, imageState: { ...action.data } };\r\n    case 'setTextState':\r\n      console.log('%c Setting Text State', 'color: #ee4242');\r\n      return { ...state, textState: { ...action.data } };\r\n    case 'setShouldReplaceImage':\r\n      console.log('%c Setting Should Replace Image', 'color: #ee4242');\r\n      return { ...state, shouldReplaceImage: action.data };\r\n    case 'setCanvasBackgroundColor':\r\n      return {\r\n        ...state,\r\n        shouldUpdateCanvas: true,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          backgroundImage: 0,\r\n          backgroundColor: action.data,\r\n        },\r\n      };\r\n    case 'setCanvasBackgroundImage':\r\n      return {\r\n        ...state,\r\n        shouldUpdateCanvas: true,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          backgroundColor: 'rgba(255,255,255,1)',\r\n          backgroundImage: action.data,\r\n        },\r\n      };\r\n    case 'setCanvasSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateCanvasSize: true,\r\n        canvasState: {\r\n          ...state.canvasState,\r\n          width: action.data.width,\r\n          height: action.data.height,\r\n        },\r\n      };\r\n    case 'setImageCornerRadius':\r\n      return {\r\n        ...state,\r\n        shouldUpdateImage: true,\r\n        imageState: {\r\n          ...state.imageState,\r\n          cornerRadius: action.data,\r\n        },\r\n      };\r\n    case 'setShapeFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setShapeStroke':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          stroke: action.data,\r\n        },\r\n      };\r\n    case 'setShapeStrokeWidth':\r\n      return {\r\n        ...state,\r\n        shouldUpdateShape: true,\r\n        shapeState: {\r\n          ...state.shapeState,\r\n          strokeWidth: action.data,\r\n        },\r\n      };\r\n    case 'setFontFamily':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontFamily: action.data,\r\n        },\r\n      };\r\n    case 'setFontStyle':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontStyle: action.data,\r\n        },\r\n      };\r\n    case 'setFontWeight':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontWeight: action.data,\r\n        },\r\n      };\r\n    case 'setFontSize':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fontSize: action.data,\r\n        },\r\n      };\r\n    case 'setTextFill':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          fill: action.data,\r\n        },\r\n      };\r\n    case 'setTextAlign':\r\n      return {\r\n        ...state,\r\n        shouldUpdateText: true,\r\n        textState: {\r\n          ...state.textState,\r\n          textAlign: action.data,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useAppState = () => {\r\n  const [appState, appDispatch] = useReducer(reducer, initialState);\r\n  return [appState, appDispatch];\r\n};\r\n\r\nexport default useAppState;\r\n","import React from 'react';\nimport styles from './App.module.css';\nimport DesignTool from './containers/DesignTool/DesignTool';\nimport AppContext from './contexts/AppContext';\nimport useAppState from './hooks/useAppState';\n\nconst App = () => {\n  const [appState, appDispatch] = useAppState();\n  console.log(appState);\n\n  return (\n    <div className={styles.App}>\n      <AppContext.Provider value={{appState, appDispatch}}>\n        <DesignTool />\n      </AppContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontsDropdown\":\"FontsDropdown_FontsDropdown__3iHrb\",\"SearchContainer\":\"FontsDropdown_SearchContainer__2RFo-\",\"SearchSvg\":\"FontsDropdown_SearchSvg__2u1mw\",\"SearchInput\":\"FontsDropdown_SearchInput__2Chrt\",\"FontOptionsContainer\":\"FontsDropdown_FontOptionsContainer__wIQ57\",\"FontOption\":\"FontsDropdown_FontOption__2dj5S\",\"UploadFontContainer\":\"FontsDropdown_UploadFontContainer__2S3lF\",\"UploadFontButton\":\"FontsDropdown_UploadFontButton__MDbTz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CanvasToolbar\":\"CanvasToolbar_CanvasToolbar__2exJw\",\"BorderDiv\":\"CanvasToolbar_BorderDiv__2lMah\",\"ColorContainer\":\"CanvasToolbar_ColorContainer__1lRfQ\",\"ImageContainer\":\"CanvasToolbar_ImageContainer__Tv96C\",\"ColorPickerBorder\":\"CanvasToolbar_ColorPickerBorder__3LeSJ\",\"ColorPicker\":\"CanvasToolbar_ColorPicker__KOMBh\",\"BackgroundImage\":\"CanvasToolbar_BackgroundImage__y_vom\",\"ColorDropdownContainer\":\"CanvasToolbar_ColorDropdownContainer__22yBy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageToolbar\":\"ImageToolbar_ImageToolbar__1WSNN\",\"BorderDiv\":\"ImageToolbar_BorderDiv__VmilF\",\"ReaplaceContainer\":\"ImageToolbar_ReaplaceContainer__10SOR\",\"RadiusContainer\":\"ImageToolbar_RadiusContainer__zKyEt\",\"CropContainer\":\"ImageToolbar_CropContainer__1333c\",\"RadiusInput\":\"ImageToolbar_RadiusInput__1nKV9\",\"StrokeWidthArrowContainer\":\"ImageToolbar_StrokeWidthArrowContainer__2cufI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CanvasComponent\":\"Canvas_CanvasComponent__1bAIi\",\"BorderContainer\":\"Canvas_BorderContainer__23bGv\",\"CanvasBorder\":\"Canvas_CanvasBorder__31chc\",\"CanvasContainer\":\"Canvas_CanvasContainer__We_TP\",\"Canvas\":\"Canvas_Canvas__3kg3j\",\"Opacity1\":\"Canvas_Opacity1__1LzGb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontsDropdown\":\"TextDropdowns_FontsDropdown__3_lA-\",\"FontSizeDropdown\":\"TextDropdowns_FontSizeDropdown__x7bNh\",\"SketchPickerContainer\":\"TextDropdowns_SketchPickerContainer__2DbOY\",\"TextAlignDropdown\":\"TextDropdowns_TextAlignDropdown__1VTv7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FillDropdownContainer\":\"ShapeDropdowns_FillDropdownContainer__3KwCv\",\"StrokeDropdownContainer\":\"ShapeDropdowns_StrokeDropdownContainer__1UVQj\",\"StrokeWidthDropdownContainer\":\"ShapeDropdowns_StrokeWidthDropdownContainer__2AP0a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DesignTool\":\"DesignTool_DesignTool__2M4FJ\",\"Main\":\"DesignTool_Main__2g3xq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1ARCj\",\"BackFileInfoContainer\":\"Navigation_BackFileInfoContainer__3RzYd\",\"BackArrow\":\"Navigation_BackArrow__2ywmz\",\"FileInfoContainer\":\"Navigation_FileInfoContainer__1iUS2\",\"FileName\":\"Navigation_FileName__OSsvc\",\"Creater\":\"Navigation_Creater__2qNVm\",\"DesignControlsContainer\":\"Navigation_DesignControlsContainer__2zYHN\",\"DesignControl\":\"Navigation_DesignControl__Rc9Nd\",\"AddTextContainer\":\"Navigation_AddTextContainer__Jx-wm\",\"AddImageContainer\":\"Navigation_AddImageContainer__LeFuc\",\"AddShapeContainer\":\"Navigation_AddShapeContainer__1Z0jn\",\"HoverContent\":\"Navigation_HoverContent__3omOO\",\"HoverTriangle\":\"Navigation_HoverTriangle__2Oj00\",\"HoverText\":\"Navigation_HoverText__3odoJ\",\"DownloadUserInfoContainer\":\"Navigation_DownloadUserInfoContainer__16w6Z\",\"DownloadButton\":\"Navigation_DownloadButton__265z-\",\"User\":\"Navigation_User__QI2lq\",\"UserInitials\":\"Navigation_UserInitials__2SK1Q\",\"ShapeDropdown\":\"Navigation_ShapeDropdown__3s3DK\",\"ImageDropdown\":\"Navigation_ImageDropdown__2CW9G\",\"DownloadLink\":\"Navigation_DownloadLink__1y2bA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextToolbar\":\"TextToolbar_TextToolbar__3gfcC\",\"BorderDiv\":\"TextToolbar_BorderDiv__2odQK\",\"DownArrow\":\"TextToolbar_DownArrow__1HVFD\",\"TextAlign\":\"TextToolbar_TextAlign__INoMZ\",\"Bold\":\"TextToolbar_Bold__1s-ED\",\"Italic\":\"TextToolbar_Italic__3xDG-\",\"FontsContainer\":\"TextToolbar_FontsContainer__1fqfB\",\"FontSizeContainer\":\"TextToolbar_FontSizeContainer__aWFmj\",\"ColorPickerContainer\":\"TextToolbar_ColorPickerContainer__2ZGaI\",\"FontWeightBoldContainer\":\"TextToolbar_FontWeightBoldContainer__27gSX\",\"FontStyleItalicContainer\":\"TextToolbar_FontStyleItalicContainer__1wxpu\",\"TextAlignContainer\":\"TextToolbar_TextAlignContainer__ltyUi\",\"FontSizeInputContainer\":\"TextToolbar_FontSizeInputContainer__2OQql\",\"FontSizeInput\":\"TextToolbar_FontSizeInput__Oz0vc\",\"FontSizeArrowContainer\":\"TextToolbar_FontSizeArrowContainer__1H8-0\",\"ColorPickerBorder\":\"TextToolbar_ColorPickerBorder__lGyI2\",\"ColorPicker\":\"TextToolbar_ColorPicker__1-Co5\",\"Active\":\"TextToolbar_Active__1GUoy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1HEAh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__29ChG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__kPhA3\"};"],"sourceRoot":""}